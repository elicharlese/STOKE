#!/usr/bin/env node
"use strict";var tp=Object.create;var Fi=Object.defineProperty;var rp=Object.getOwnPropertyDescriptor;var np=Object.getOwnPropertyNames;var ip=Object.getPrototypeOf,op=Object.prototype.hasOwnProperty;var ap=(e,t,r)=>t in e?Fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var sp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of np(t))!op.call(e,i)&&i!==r&&Fi(e,i,{get:()=>t[i],enumerable:!(n=rp(t,i))||n.enumerable});return e};var _=(e,t,r)=>(r=e!=null?tp(ip(e)):{},sp(t||!e||!e.__esModule?Fi(r,"default",{value:e,enumerable:!0}):r,e));var va=(e,t,r)=>(ap(e,typeof t!="symbol"?t+"":t,r),r),Sa=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var b=(e,t,r)=>(Sa(e,t,"read from private field"),r?r.call(e):t.get(e)),U=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},P=(e,t,r,n)=>(Sa(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Vt=(e,t,r,n)=>({set _(i){P(e,t,i,r)},get _(){return b(e,t,n)}});var Ia=k((th,Ii)=>{"use strict";var Oa=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Ii.exports=Oa;Ii.exports.default=Oa});var La=k((rh,Rn)=>{"use strict";var vp=Ia(),Pn=new WeakMap,Ma=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,i=e.displayName||e.name||"<anonymous>",o=function(...a){if(Pn.set(o,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return vp(o,e),Pn.set(o,n),o};Rn.exports=Ma;Rn.exports.default=Ma;Rn.exports.callCount=e=>{if(!Pn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Pn.get(e)}});var Na=k((nh,Dn)=>{Dn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Dn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Dn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ga=k((ih,vt)=>{var B=global.process,Xe=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};Xe(B)?(Ba=require("assert"),xt=Na(),Ua=/^win/i.test(B.platform),Yt=require("events"),typeof Yt!="function"&&(Yt=Yt.EventEmitter),B.__signal_exit_emitter__?H=B.__signal_exit_emitter__:(H=B.__signal_exit_emitter__=new Yt,H.count=0,H.emitted={}),H.infinite||(H.setMaxListeners(1/0),H.infinite=!0),vt.exports=function(e,t){if(!Xe(global.process))return function(){};Ba.equal(typeof e,"function","a callback must be provided for exit handler"),_t===!1&&Mi();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){H.removeListener(r,e),H.listeners("exit").length===0&&H.listeners("afterexit").length===0&&Fn()};return H.on(r,e),n},Fn=function(){!_t||!Xe(global.process)||(_t=!1,xt.forEach(function(t){try{B.removeListener(t,jn[t])}catch{}}),B.emit=$n,B.reallyExit=Li,H.count-=1)},vt.exports.unload=Fn,Ke=function(t,r,n){H.emitted[t]||(H.emitted[t]=!0,H.emit(t,r,n))},jn={},xt.forEach(function(e){jn[e]=function(){if(Xe(global.process)){var r=B.listeners(e);r.length===H.count&&(Fn(),Ke("exit",null,e),Ke("afterexit",null,e),Ua&&e==="SIGHUP"&&(e="SIGINT"),B.kill(B.pid,e))}}}),vt.exports.signals=function(){return xt},_t=!1,Mi=function(){_t||!Xe(global.process)||(_t=!0,H.count+=1,xt=xt.filter(function(t){try{return B.on(t,jn[t]),!0}catch{return!1}}),B.emit=Wa,B.reallyExit=qa)},vt.exports.load=Mi,Li=B.reallyExit,qa=function(t){Xe(global.process)&&(B.exitCode=t||0,Ke("exit",B.exitCode,null),Ke("afterexit",B.exitCode,null),Li.call(B,B.exitCode))},$n=B.emit,Wa=function(t,r){if(t==="exit"&&Xe(global.process)){r!==void 0&&(B.exitCode=r);var n=$n.apply(this,arguments);return Ke("exit",B.exitCode,null),Ke("afterexit",B.exitCode,null),n}else return $n.apply(this,arguments)}):vt.exports=function(){return function(){}};var Ba,xt,Ua,Yt,H,Fn,Ke,jn,_t,Mi,Li,qa,$n,Wa});var Ya=k((ch,kp)=>{kp.exports={dots:{interval:80,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]},dots2:{interval:80,frames:["\u28FE","\u28FD","\u28FB","\u28BF","\u287F","\u28DF","\u28EF","\u28F7"]},dots3:{interval:80,frames:["\u280B","\u2819","\u281A","\u281E","\u2816","\u2826","\u2834","\u2832","\u2833","\u2813"]},dots4:{interval:80,frames:["\u2804","\u2806","\u2807","\u280B","\u2819","\u2838","\u2830","\u2820","\u2830","\u2838","\u2819","\u280B","\u2807","\u2806"]},dots5:{interval:80,frames:["\u280B","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B"]},dots6:{interval:80,frames:["\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2834","\u2832","\u2812","\u2802","\u2802","\u2812","\u281A","\u2819","\u2809","\u2801"]},dots7:{interval:80,frames:["\u2808","\u2809","\u280B","\u2813","\u2812","\u2810","\u2810","\u2812","\u2816","\u2826","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808"]},dots8:{interval:80,frames:["\u2801","\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808","\u2808"]},dots9:{interval:80,frames:["\u28B9","\u28BA","\u28BC","\u28F8","\u28C7","\u2867","\u2857","\u284F"]},dots10:{interval:80,frames:["\u2884","\u2882","\u2881","\u2841","\u2848","\u2850","\u2860"]},dots11:{interval:100,frames:["\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"]},dots12:{interval:80,frames:["\u2880\u2800","\u2840\u2800","\u2804\u2800","\u2882\u2800","\u2842\u2800","\u2805\u2800","\u2883\u2800","\u2843\u2800","\u280D\u2800","\u288B\u2800","\u284B\u2800","\u280D\u2801","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2888\u2829","\u2840\u2899","\u2804\u2859","\u2882\u2829","\u2842\u2898","\u2805\u2858","\u2883\u2828","\u2843\u2890","\u280D\u2850","\u288B\u2820","\u284B\u2880","\u280D\u2841","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2808\u2829","\u2800\u2899","\u2800\u2859","\u2800\u2829","\u2800\u2898","\u2800\u2858","\u2800\u2828","\u2800\u2890","\u2800\u2850","\u2800\u2820","\u2800\u2880","\u2800\u2840"]},dots13:{interval:80,frames:["\u28FC","\u28F9","\u28BB","\u283F","\u285F","\u28CF","\u28E7","\u28F6"]},dots8Bit:{interval:80,frames:["\u2800","\u2801","\u2802","\u2803","\u2804","\u2805","\u2806","\u2807","\u2840","\u2841","\u2842","\u2843","\u2844","\u2845","\u2846","\u2847","\u2808","\u2809","\u280A","\u280B","\u280C","\u280D","\u280E","\u280F","\u2848","\u2849","\u284A","\u284B","\u284C","\u284D","\u284E","\u284F","\u2810","\u2811","\u2812","\u2813","\u2814","\u2815","\u2816","\u2817","\u2850","\u2851","\u2852","\u2853","\u2854","\u2855","\u2856","\u2857","\u2818","\u2819","\u281A","\u281B","\u281C","\u281D","\u281E","\u281F","\u2858","\u2859","\u285A","\u285B","\u285C","\u285D","\u285E","\u285F","\u2820","\u2821","\u2822","\u2823","\u2824","\u2825","\u2826","\u2827","\u2860","\u2861","\u2862","\u2863","\u2864","\u2865","\u2866","\u2867","\u2828","\u2829","\u282A","\u282B","\u282C","\u282D","\u282E","\u282F","\u2868","\u2869","\u286A","\u286B","\u286C","\u286D","\u286E","\u286F","\u2830","\u2831","\u2832","\u2833","\u2834","\u2835","\u2836","\u2837","\u2870","\u2871","\u2872","\u2873","\u2874","\u2875","\u2876","\u2877","\u2838","\u2839","\u283A","\u283B","\u283C","\u283D","\u283E","\u283F","\u2878","\u2879","\u287A","\u287B","\u287C","\u287D","\u287E","\u287F","\u2880","\u2881","\u2882","\u2883","\u2884","\u2885","\u2886","\u2887","\u28C0","\u28C1","\u28C2","\u28C3","\u28C4","\u28C5","\u28C6","\u28C7","\u2888","\u2889","\u288A","\u288B","\u288C","\u288D","\u288E","\u288F","\u28C8","\u28C9","\u28CA","\u28CB","\u28CC","\u28CD","\u28CE","\u28CF","\u2890","\u2891","\u2892","\u2893","\u2894","\u2895","\u2896","\u2897","\u28D0","\u28D1","\u28D2","\u28D3","\u28D4","\u28D5","\u28D6","\u28D7","\u2898","\u2899","\u289A","\u289B","\u289C","\u289D","\u289E","\u289F","\u28D8","\u28D9","\u28DA","\u28DB","\u28DC","\u28DD","\u28DE","\u28DF","\u28A0","\u28A1","\u28A2","\u28A3","\u28A4","\u28A5","\u28A6","\u28A7","\u28E0","\u28E1","\u28E2","\u28E3","\u28E4","\u28E5","\u28E6","\u28E7","\u28A8","\u28A9","\u28AA","\u28AB","\u28AC","\u28AD","\u28AE","\u28AF","\u28E8","\u28E9","\u28EA","\u28EB","\u28EC","\u28ED","\u28EE","\u28EF","\u28B0","\u28B1","\u28B2","\u28B3","\u28B4","\u28B5","\u28B6","\u28B7","\u28F0","\u28F1","\u28F2","\u28F3","\u28F4","\u28F5","\u28F6","\u28F7","\u28B8","\u28B9","\u28BA","\u28BB","\u28BC","\u28BD","\u28BE","\u28BF","\u28F8","\u28F9","\u28FA","\u28FB","\u28FC","\u28FD","\u28FE","\u28FF"]},sand:{interval:80,frames:["\u2801","\u2802","\u2804","\u2840","\u2848","\u2850","\u2860","\u28C0","\u28C1","\u28C2","\u28C4","\u28CC","\u28D4","\u28E4","\u28E5","\u28E6","\u28EE","\u28F6","\u28F7","\u28FF","\u287F","\u283F","\u289F","\u281F","\u285B","\u281B","\u282B","\u288B","\u280B","\u280D","\u2849","\u2809","\u2811","\u2821","\u2881"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["\u2802","-","\u2013","\u2014","\u2013","-"]},pipe:{interval:100,frames:["\u2524","\u2518","\u2534","\u2514","\u251C","\u250C","\u252C","\u2510"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["\u2736","\u2738","\u2739","\u273A","\u2739","\u2737"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","\xB4","-","_","_","_"]},hamburger:{interval:100,frames:["\u2631","\u2632","\u2634"]},growVertical:{interval:120,frames:["\u2581","\u2583","\u2584","\u2585","\u2586","\u2587","\u2586","\u2585","\u2584","\u2583"]},growHorizontal:{interval:120,frames:["\u258F","\u258E","\u258D","\u258C","\u258B","\u258A","\u2589","\u258A","\u258B","\u258C","\u258D","\u258E"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","\xB0","O","o","."]},noise:{interval:100,frames:["\u2593","\u2592","\u2591"]},bounce:{interval:120,frames:["\u2801","\u2802","\u2804","\u2802"]},boxBounce:{interval:120,frames:["\u2596","\u2598","\u259D","\u2597"]},boxBounce2:{interval:100,frames:["\u258C","\u2580","\u2590","\u2584"]},triangle:{interval:50,frames:["\u25E2","\u25E3","\u25E4","\u25E5"]},arc:{interval:100,frames:["\u25DC","\u25E0","\u25DD","\u25DE","\u25E1","\u25DF"]},circle:{interval:120,frames:["\u25E1","\u2299","\u25E0"]},squareCorners:{interval:180,frames:["\u25F0","\u25F3","\u25F2","\u25F1"]},circleQuarters:{interval:120,frames:["\u25F4","\u25F7","\u25F6","\u25F5"]},circleHalves:{interval:50,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]},squish:{interval:100,frames:["\u256B","\u256A"]},toggle:{interval:250,frames:["\u22B6","\u22B7"]},toggle2:{interval:80,frames:["\u25AB","\u25AA"]},toggle3:{interval:120,frames:["\u25A1","\u25A0"]},toggle4:{interval:100,frames:["\u25A0","\u25A1","\u25AA","\u25AB"]},toggle5:{interval:100,frames:["\u25AE","\u25AF"]},toggle6:{interval:300,frames:["\u101D","\u1040"]},toggle7:{interval:80,frames:["\u29BE","\u29BF"]},toggle8:{interval:100,frames:["\u25CD","\u25CC"]},toggle9:{interval:100,frames:["\u25C9","\u25CE"]},toggle10:{interval:100,frames:["\u3282","\u3280","\u3281"]},toggle11:{interval:50,frames:["\u29C7","\u29C6"]},toggle12:{interval:120,frames:["\u2617","\u2616"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["\u2190","\u2196","\u2191","\u2197","\u2192","\u2198","\u2193","\u2199"]},arrow2:{interval:80,frames:["\u2B06\uFE0F ","\u2197\uFE0F ","\u27A1\uFE0F ","\u2198\uFE0F ","\u2B07\uFE0F ","\u2199\uFE0F ","\u2B05\uFE0F ","\u2196\uFE0F "]},arrow3:{interval:120,frames:["\u25B9\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B9\u25B8"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( \u25CF    )","(  \u25CF   )","(   \u25CF  )","(    \u25CF )","(     \u25CF)","(    \u25CF )","(   \u25CF  )","(  \u25CF   )","( \u25CF    )","(\u25CF     )"]},smiley:{interval:200,frames:["\u{1F604} ","\u{1F61D} "]},monkey:{interval:300,frames:["\u{1F648} ","\u{1F648} ","\u{1F649} ","\u{1F64A} "]},hearts:{interval:100,frames:["\u{1F49B} ","\u{1F499} ","\u{1F49C} ","\u{1F49A} ","\u2764\uFE0F "]},clock:{interval:100,frames:["\u{1F55B} ","\u{1F550} ","\u{1F551} ","\u{1F552} ","\u{1F553} ","\u{1F554} ","\u{1F555} ","\u{1F556} ","\u{1F557} ","\u{1F558} ","\u{1F559} ","\u{1F55A} "]},earth:{interval:180,frames:["\u{1F30D} ","\u{1F30E} ","\u{1F30F} "]},material:{interval:17,frames:["\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581"]},moon:{interval:80,frames:["\u{1F311} ","\u{1F312} ","\u{1F313} ","\u{1F314} ","\u{1F315} ","\u{1F316} ","\u{1F317} ","\u{1F318} "]},runner:{interval:140,frames:["\u{1F6B6} ","\u{1F3C3} "]},pong:{interval:80,frames:["\u2590\u2802       \u258C","\u2590\u2808       \u258C","\u2590 \u2802      \u258C","\u2590 \u2820      \u258C","\u2590  \u2840     \u258C","\u2590  \u2820     \u258C","\u2590   \u2802    \u258C","\u2590   \u2808    \u258C","\u2590    \u2802   \u258C","\u2590    \u2820   \u258C","\u2590     \u2840  \u258C","\u2590     \u2820  \u258C","\u2590      \u2802 \u258C","\u2590      \u2808 \u258C","\u2590       \u2802\u258C","\u2590       \u2820\u258C","\u2590       \u2840\u258C","\u2590      \u2820 \u258C","\u2590      \u2802 \u258C","\u2590     \u2808  \u258C","\u2590     \u2802  \u258C","\u2590    \u2820   \u258C","\u2590    \u2840   \u258C","\u2590   \u2820    \u258C","\u2590   \u2802    \u258C","\u2590  \u2808     \u258C","\u2590  \u2802     \u258C","\u2590 \u2820      \u258C","\u2590 \u2840      \u258C","\u2590\u2820       \u258C"]},shark:{interval:120,frames:["\u2590|\\____________\u258C","\u2590_|\\___________\u258C","\u2590__|\\__________\u258C","\u2590___|\\_________\u258C","\u2590____|\\________\u258C","\u2590_____|\\_______\u258C","\u2590______|\\______\u258C","\u2590_______|\\_____\u258C","\u2590________|\\____\u258C","\u2590_________|\\___\u258C","\u2590__________|\\__\u258C","\u2590___________|\\_\u258C","\u2590____________|\\\u258C","\u2590____________/|\u258C","\u2590___________/|_\u258C","\u2590__________/|__\u258C","\u2590_________/|___\u258C","\u2590________/|____\u258C","\u2590_______/|_____\u258C","\u2590______/|______\u258C","\u2590_____/|_______\u258C","\u2590____/|________\u258C","\u2590___/|_________\u258C","\u2590__/|__________\u258C","\u2590_/|___________\u258C","\u2590/|____________\u258C"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["\u2600\uFE0F ","\u2600\uFE0F ","\u2600\uFE0F ","\u{1F324} ","\u26C5\uFE0F ","\u{1F325} ","\u2601\uFE0F ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u26C8 ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u2601\uFE0F ","\u{1F325} ","\u26C5\uFE0F ","\u{1F324} ","\u2600\uFE0F ","\u2600\uFE0F "]},christmas:{interval:400,frames:["\u{1F332}","\u{1F384}"]},grenade:{interval:80,frames:["\u060C  ","\u2032  "," \xB4 "," \u203E ","  \u2E0C","  \u2E0A","  |","  \u204E","  \u2055"," \u0DF4 ","  \u2053","   ","   ","   "]},point:{interval:125,frames:["\u2219\u2219\u2219","\u25CF\u2219\u2219","\u2219\u25CF\u2219","\u2219\u2219\u25CF","\u2219\u2219\u2219"]},layer:{interval:150,frames:["-","=","\u2261"]},betaWave:{interval:80,frames:["\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1"]},fingerDance:{interval:160,frames:["\u{1F918} ","\u{1F91F} ","\u{1F596} ","\u270B ","\u{1F91A} ","\u{1F446} "]},fistBump:{interval:80,frames:["\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u3000\u{1F91C}\u3000\u3000\u{1F91B}\u3000 ","\u3000\u3000\u{1F91C}\u{1F91B}\u3000\u3000 ","\u3000\u{1F91C}\u2728\u{1F91B}\u3000\u3000 ","\u{1F91C}\u3000\u2728\u3000\u{1F91B}\u3000 "]},soccerHeader:{interval:80,frames:[" \u{1F9D1}\u26BD\uFE0F       \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}       \u26BD\uFE0F\u{1F9D1}  ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} "]},mindblown:{interval:160,frames:["\u{1F610} ","\u{1F610} ","\u{1F62E} ","\u{1F62E} ","\u{1F626} ","\u{1F626} ","\u{1F627} ","\u{1F627} ","\u{1F92F} ","\u{1F4A5} ","\u2728 ","\u3000 ","\u3000 ","\u3000 "]},speaker:{interval:160,frames:["\u{1F508} ","\u{1F509} ","\u{1F50A} ","\u{1F509} "]},orangePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} "]},bluePulse:{interval:100,frames:["\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},orangeBluePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} ","\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},timeTravel:{interval:100,frames:["\u{1F55B} ","\u{1F55A} ","\u{1F559} ","\u{1F558} ","\u{1F557} ","\u{1F556} ","\u{1F555} ","\u{1F554} ","\u{1F553} ","\u{1F552} ","\u{1F551} ","\u{1F550} "]},aesthetic:{interval:80,frames:["\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0","\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1"]}}});var Ui=k((lh,Ka)=>{"use strict";var On=Object.assign({},Ya()),Xa=Object.keys(On);Object.defineProperty(On,"random",{get(){let e=Math.floor(Math.random()*Xa.length),t=Xa[e];return On[t]}});Ka.exports=On});var Za=k((yh,In)=>{var Pp=function(){"use strict";function e(a,s,l,c){var f;typeof s=="object"&&(l=s.depth,c=s.prototype,f=s.filter,s=s.circular);var u=[],p=[],h=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof l>"u"&&(l=1/0);function g(m,x){if(m===null)return null;if(x==0)return m;var w,v;if(typeof m!="object")return m;if(e.__isArray(m))w=[];else if(e.__isRegExp(m))w=new RegExp(m.source,o(m)),m.lastIndex&&(w.lastIndex=m.lastIndex);else if(e.__isDate(m))w=new Date(m.getTime());else{if(h&&Buffer.isBuffer(m))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(m.length):w=new Buffer(m.length),m.copy(w),w;typeof c>"u"?(v=Object.getPrototypeOf(m),w=Object.create(v)):(w=Object.create(c),v=c)}if(s){var S=u.indexOf(m);if(S!=-1)return p[S];u.push(m),p.push(w)}for(var R in m){var T;v&&(T=Object.getOwnPropertyDescriptor(v,R)),!(T&&T.set==null)&&(w[R]=g(m[R],x-1))}return w}return g(a,l)}e.clonePrototype=function(s){if(s===null)return null;var l=function(){};return l.prototype=s,new l};function t(a){return Object.prototype.toString.call(a)}e.__objToStr=t;function r(a){return typeof a=="object"&&t(a)==="[object Date]"}e.__isDate=r;function n(a){return typeof a=="object"&&t(a)==="[object Array]"}e.__isArray=n;function i(a){return typeof a=="object"&&t(a)==="[object RegExp]"}e.__isRegExp=i;function o(a){var s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),s}return e.__getRegExpFlags=o,e}();typeof In=="object"&&In.exports&&(In.exports=Pp)});var es=k((bh,Qa)=>{var Rp=Za();Qa.exports=function(e,t){return e=e||{},Object.keys(t).forEach(function(r){typeof e[r]>"u"&&(e[r]=Rp(t[r]))}),e}});var rs=k((wh,ts)=>{ts.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]});var as=k((xh,Gi)=>{"use strict";var Dp=es(),Zt=rs(),is={nul:0,control:0};Gi.exports=function(t){return os(t,is)};Gi.exports.config=function(e){return e=Dp(e||{},is),function(r){return os(r,e)}};function os(e,t){if(typeof e!="string")return ns(e,t);for(var r=0,n=0;n<e.length;n++){var i=ns(e.charCodeAt(n),t);if(i<0)return-1;r+=i}return r}function ns(e,t){return e===0?t.nul:e<32||e>=127&&e<160?t.control:Fp(e)?0:1+(e>=4352&&(e<=4447||e==9001||e==9002||e>=11904&&e<=42191&&e!=12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}function Fp(e){var t=0,r=Zt.length-1,n;if(e<Zt[0][0]||e>Zt[r][1])return!1;for(;r>=t;)if(n=Math.floor((t+r)/2),e>Zt[n][1])t=n+1;else if(e<Zt[n][0])r=n-1;else return!0;return!1}});var Vi=k((vh,ss)=>{ss.exports=require("stream")});var ds=k((Sh,us)=>{"use strict";function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cs(Object(r),!0).forEach(function(n){jp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jp(e,t,r){return t=ps(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ps(n.key),n)}}function Ap(e,t,r){return t&&fs(e.prototype,t),r&&fs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ps(e){var t=Op(e,"string");return typeof t=="symbol"?t:String(t)}function Op(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ip=require("buffer"),Mn=Ip.Buffer,Mp=require("util"),Hi=Mp.inspect,Lp=Hi&&Hi.custom||"inspect";function Np(e,t,r){Mn.prototype.copy.call(e,t,r)}us.exports=function(){function e(){$p(this,e),this.head=null,this.tail=null,this.length=0}return Ap(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Mn.alloc(0);for(var n=Mn.allocUnsafe(r>>>0),i=this.head,o=0;i;)Np(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Mn.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o}return this.length-=o,n}},{key:Lp,value:function(r,n){return Hi(this,ls(ls({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var Yi=k((kh,hs)=>{"use strict";function Bp(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(zi,this,e)):process.nextTick(zi,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Ln,r):(r._writableState.errorEmitted=!0,process.nextTick(ms,r,o)):process.nextTick(ms,r,o):t?(process.nextTick(Ln,r),t(o)):process.nextTick(Ln,r)}),this)}function ms(e,t){zi(e,t),Ln(e)}function Ln(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Up(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function zi(e,t){e.emit("error",t)}function qp(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}hs.exports={destroy:Bp,undestroy:Up,errorOrDestroy:qp}});var Ie=k((Eh,bs)=>{"use strict";var ys={};function pe(e,t,r){r||(r=Error);function n(o,a,s){return typeof t=="string"?t:t(o,a,s)}class i extends r{constructor(a,s,l){super(n(a,s,l))}}i.prototype.name=r.name,i.prototype.code=e,ys[e]=i}function gs(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function Wp(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Gp(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Jp(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}pe("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);pe("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&Wp(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let i;if(Gp(e," argument"))i=`The ${e} ${n} ${gs(t,"type")}`;else{let o=Jp(e,".")?"property":"argument";i=`The "${e}" ${o} ${n} ${gs(t,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);pe("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");pe("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});pe("ERR_STREAM_PREMATURE_CLOSE","Premature close");pe("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});pe("ERR_MULTIPLE_CALLBACK","Callback called multiple times");pe("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");pe("ERR_STREAM_WRITE_AFTER_END","write after end");pe("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);pe("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);pe("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");bs.exports.codes=ys});var Xi=k((Th,ws)=>{"use strict";var Vp=Ie().codes.ERR_INVALID_OPT_VALUE;function Hp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function zp(e,t,r,n){var i=Hp(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Vp(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}ws.exports={getHighWaterMark:zp}});var xs=k((Ch,Ki)=>{typeof Object.create=="function"?Ki.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ki.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Ze=k((Ph,Qi)=>{try{if(Zi=require("util"),typeof Zi.inherits!="function")throw"";Qi.exports=Zi.inherits}catch{Qi.exports=xs()}var Zi});var vs=k((Rh,_s)=>{_s.exports=require("util").deprecate});var ro=k((Dh,Ps)=>{"use strict";Ps.exports=W;function ks(e){var t=this;this.next=null,this.entry=null,this.finish=function(){_u(t,e)}}var kt;W.WritableState=er;var Yp={deprecate:vs()},Es=Vi(),Bn=require("buffer").Buffer,Xp=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Kp(e){return Bn.from(e)}function Zp(e){return Bn.isBuffer(e)||e instanceof Xp}var to=Yi(),Qp=Xi(),eu=Qp.getHighWaterMark,Me=Ie().codes,tu=Me.ERR_INVALID_ARG_TYPE,ru=Me.ERR_METHOD_NOT_IMPLEMENTED,nu=Me.ERR_MULTIPLE_CALLBACK,iu=Me.ERR_STREAM_CANNOT_PIPE,ou=Me.ERR_STREAM_DESTROYED,au=Me.ERR_STREAM_NULL_VALUES,su=Me.ERR_STREAM_WRITE_AFTER_END,cu=Me.ERR_UNKNOWN_ENCODING,Et=to.errorOrDestroy;Ze()(W,Es);function lu(){}function er(e,t,r){kt=kt||Qe(),e=e||{},typeof r!="boolean"&&(r=t instanceof kt),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=eu(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){gu(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ks(this)}er.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(er.prototype,"buffer",{get:Yp.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Nn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Nn=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(t){return Nn.call(this,t)?!0:this!==W?!1:t&&t._writableState instanceof er}})):Nn=function(t){return t instanceof this};function W(e){kt=kt||Qe();var t=this instanceof kt;if(!t&&!Nn.call(W,this))return new W(e);this._writableState=new er(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Es.call(this)}W.prototype.pipe=function(){Et(this,new iu)};function fu(e,t){var r=new su;Et(e,r),process.nextTick(t,r)}function pu(e,t,r,n){var i;return r===null?i=new au:typeof r!="string"&&!t.objectMode&&(i=new tu("chunk",["string","Buffer"],r)),i?(Et(e,i),process.nextTick(n,i),!1):!0}W.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&Zp(e);return o&&!Bn.isBuffer(e)&&(e=Kp(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=lu),n.ending?fu(this,r):(o||pu(this,n,e,r))&&(n.pendingcb++,i=du(this,n,o,e,t,r)),i};W.prototype.cork=function(){this._writableState.corked++};W.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&Ts(this,e))};W.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new cu(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function uu(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Bn.from(t,r)),t}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function du(e,t,r,n,i,o){if(!r){var a=uu(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else eo(e,t,!1,s,n,i,o);return l}function eo(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ou("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function mu(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(Qt,e,t),e._writableState.errorEmitted=!0,Et(e,n)):(i(n),e._writableState.errorEmitted=!0,Et(e,n),Qt(e,t))}function hu(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function gu(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new nu;if(hu(r),t)mu(e,r,n,t,i);else{var o=Cs(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Ts(e,r),n?process.nextTick(Ss,e,r,o,i):Ss(e,r,o,i)}}function Ss(e,t,r,n){r||yu(e,t),t.pendingcb--,n(),Qt(e,t)}function yu(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Ts(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,eo(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new ks(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,u=t.objectMode?1:l.length;if(eo(e,t,!1,u,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}W.prototype._write=function(e,t,r){r(new ru("_write()"))};W.prototype._writev=null;W.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||xu(this,n,r),this};Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Cs(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function bu(e,t){e._final(function(r){t.pendingcb--,r&&Et(e,r),t.prefinished=!0,e.emit("prefinish"),Qt(e,t)})}function wu(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(bu,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Qt(e,t){var r=Cs(t);if(r&&(wu(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function xu(e,t,r){t.ending=!0,Qt(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function _u(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});W.prototype.destroy=to.destroy;W.prototype._undestroy=to.undestroy;W.prototype._destroy=function(e,t){t(e)}});var Qe=k((Fh,Ds)=>{"use strict";var vu=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Ds.exports=Se;var Rs=oo(),io=ro();Ze()(Se,Rs);for(no=vu(io.prototype),Un=0;Un<no.length;Un++)qn=no[Un],Se.prototype[qn]||(Se.prototype[qn]=io.prototype[qn]);var no,qn,Un;function Se(e){if(!(this instanceof Se))return new Se(e);Rs.call(this,e),io.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Su)))}Object.defineProperty(Se.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Se.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Se.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Su(){this._writableState.ended||process.nextTick(ku,this)}function ku(e){e.end()}Object.defineProperty(Se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var $s=k((ao,js)=>{var Wn=require("buffer"),ke=Wn.Buffer;function Fs(e,t){for(var r in e)t[r]=e[r]}ke.from&&ke.alloc&&ke.allocUnsafe&&ke.allocUnsafeSlow?js.exports=Wn:(Fs(Wn,ao),ao.Buffer=et);function et(e,t,r){return ke(e,t,r)}et.prototype=Object.create(ke.prototype);Fs(ke,et);et.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return ke(e,t,r)};et.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=ke(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};et.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ke(e)};et.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Wn.SlowBuffer(e)}});var lo=k(Os=>{"use strict";var co=$s().Buffer,As=co.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Eu(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Tu(e){var t=Eu(e);if(typeof t!="string"&&(co.isEncoding===As||!As(e)))throw new Error("Unknown encoding: "+e);return t||e}Os.StringDecoder=tr;function tr(e){this.encoding=Tu(e);var t;switch(this.encoding){case"utf16le":this.text=ju,this.end=$u,t=4;break;case"utf8":this.fillLast=Ru,t=4;break;case"base64":this.text=Au,this.end=Ou,t=3;break;default:this.write=Iu,this.end=Mu;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=co.allocUnsafe(t)}tr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};tr.prototype.end=Fu;tr.prototype.text=Du;tr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function so(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Cu(e,t,r){var n=t.length-1;if(n<r)return 0;var i=so(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=so(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=so(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Pu(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Ru(e){var t=this.lastTotal-this.lastNeed,r=Pu(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Du(e,t){var r=Cu(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Fu(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function ju(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function $u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Au(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Ou(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Iu(e){return e.toString(this.encoding)}function Mu(e){return e&&e.length?this.write(e):""}});var Gn=k(($h,Ls)=>{"use strict";var Is=Ie().codes.ERR_STREAM_PREMATURE_CLOSE;function Lu(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function Nu(){}function Bu(e){return e.setHeader&&typeof e.abort=="function"}function Ms(e,t,r){if(typeof t=="function")return Ms(e,null,t);t||(t={}),r=Lu(r||Nu);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){i=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,l=!0,i||r.call(e)},f=function(g){r.call(e,g)},u=function(){var g;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(g=new Is),r.call(e,g);if(i&&!a)return(!e._writableState||!e._writableState.ended)&&(g=new Is),r.call(e,g)},p=function(){e.req.on("finish",s)};return Bu(e)?(e.on("complete",s),e.on("abort",u),e.req?p():e.on("request",p)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",c),e.on("finish",s),t.error!==!1&&e.on("error",f),e.on("close",u),function(){e.removeListener("complete",s),e.removeListener("abort",u),e.removeListener("request",p),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",u)}}Ls.exports=Ms});var Bs=k((Ah,Ns)=>{"use strict";var Jn;function Le(e,t,r){return t=Uu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uu(e){var t=qu(e,"string");return typeof t=="symbol"?t:String(t)}function qu(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wu=Gn(),Ne=Symbol("lastResolve"),tt=Symbol("lastReject"),rr=Symbol("error"),Vn=Symbol("ended"),rt=Symbol("lastPromise"),fo=Symbol("handlePromise"),nt=Symbol("stream");function Be(e,t){return{value:e,done:t}}function Gu(e){var t=e[Ne];if(t!==null){var r=e[nt].read();r!==null&&(e[rt]=null,e[Ne]=null,e[tt]=null,t(Be(r,!1)))}}function Ju(e){process.nextTick(Gu,e)}function Vu(e,t){return function(r,n){e.then(function(){if(t[Vn]){r(Be(void 0,!0));return}t[fo](r,n)},n)}}var Hu=Object.getPrototypeOf(function(){}),zu=Object.setPrototypeOf((Jn={get stream(){return this[nt]},next:function(){var t=this,r=this[rr];if(r!==null)return Promise.reject(r);if(this[Vn])return Promise.resolve(Be(void 0,!0));if(this[nt].destroyed)return new Promise(function(a,s){process.nextTick(function(){t[rr]?s(t[rr]):a(Be(void 0,!0))})});var n=this[rt],i;if(n)i=new Promise(Vu(n,this));else{var o=this[nt].read();if(o!==null)return Promise.resolve(Be(o,!1));i=new Promise(this[fo])}return this[rt]=i,i}},Le(Jn,Symbol.asyncIterator,function(){return this}),Le(Jn,"return",function(){var t=this;return new Promise(function(r,n){t[nt].destroy(null,function(i){if(i){n(i);return}r(Be(void 0,!0))})})}),Jn),Hu),Yu=function(t){var r,n=Object.create(zu,(r={},Le(r,nt,{value:t,writable:!0}),Le(r,Ne,{value:null,writable:!0}),Le(r,tt,{value:null,writable:!0}),Le(r,rr,{value:null,writable:!0}),Le(r,Vn,{value:t._readableState.endEmitted,writable:!0}),Le(r,fo,{value:function(o,a){var s=n[nt].read();s?(n[rt]=null,n[Ne]=null,n[tt]=null,o(Be(s,!1))):(n[Ne]=o,n[tt]=a)},writable:!0}),r));return n[rt]=null,Wu(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[tt];o!==null&&(n[rt]=null,n[Ne]=null,n[tt]=null,o(i)),n[rr]=i;return}var a=n[Ne];a!==null&&(n[rt]=null,n[Ne]=null,n[tt]=null,a(Be(void 0,!0))),n[Vn]=!0}),t.on("readable",Ju.bind(null,n)),n};Ns.exports=Yu});var Gs=k((Oh,Ws)=>{"use strict";function Us(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(c){r(c);return}s.done?t(l):Promise.resolve(l).then(n,i)}function Xu(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(l){Us(o,n,i,a,s,"next",l)}function s(l){Us(o,n,i,a,s,"throw",l)}a(void 0)})}}function qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qs(Object(r),!0).forEach(function(n){Zu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zu(e,t,r){return t=Qu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qu(e){var t=ed(e,"string");return typeof t=="symbol"?t:String(t)}function ed(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var td=Ie().codes.ERR_INVALID_ARG_TYPE;function rd(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new td("iterable",["Iterable"],t);var i=new e(Ku({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,a())};function a(){return s.apply(this,arguments)}function s(){return s=Xu(function*(){try{var l=yield n.next(),c=l.value,f=l.done;f?i.push(null):i.push(yield c)?a():o=!1}catch(u){i.destroy(u)}}),s.apply(this,arguments)}return i}Ws.exports=rd});var oo=k((Mh,ec)=>{"use strict";ec.exports=D;var Tt;D.ReadableState=zs;var Ih=require("events").EventEmitter,Hs=function(t,r){return t.listeners(r).length},ir=Vi(),Hn=require("buffer").Buffer,nd=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function id(e){return Hn.from(e)}function od(e){return Hn.isBuffer(e)||e instanceof nd}var po=require("util"),C;po&&po.debuglog?C=po.debuglog("stream"):C=function(){};var ad=ds(),wo=Yi(),sd=Xi(),cd=sd.getHighWaterMark,zn=Ie().codes,ld=zn.ERR_INVALID_ARG_TYPE,fd=zn.ERR_STREAM_PUSH_AFTER_EOF,pd=zn.ERR_METHOD_NOT_IMPLEMENTED,ud=zn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ct,uo,mo;Ze()(D,ir);var nr=wo.errorOrDestroy,ho=["error","close","destroy","pause","resume"];function dd(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function zs(e,t,r){Tt=Tt||Qe(),e=e||{},typeof r!="boolean"&&(r=t instanceof Tt),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=cd(this,e,"readableHighWaterMark",r),this.buffer=new ad,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Ct||(Ct=lo().StringDecoder),this.decoder=new Ct(e.encoding),this.encoding=e.encoding)}function D(e){if(Tt=Tt||Qe(),!(this instanceof D))return new D(e);var t=this instanceof Tt;this._readableState=new zs(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ir.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});D.prototype.destroy=wo.destroy;D.prototype._undestroy=wo.undestroy;D.prototype._destroy=function(e,t){t(e)};D.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Hn.from(e,t),t=""),n=!0),Ys(this,e,t,!1,n)};D.prototype.unshift=function(e){return Ys(this,e,null,!0,!1)};function Ys(e,t,r,n,i){C("readableAddChunk",t);var o=e._readableState;if(t===null)o.reading=!1,gd(e,o);else{var a;if(i||(a=md(o,t)),a)nr(e,a);else if(o.objectMode||t&&t.length>0)if(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Hn.prototype&&(t=id(t)),n)o.endEmitted?nr(e,new ud):go(e,o,t,!0);else if(o.ended)nr(e,new fd);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?go(e,o,t,!1):bo(e,o)):go(e,o,t,!1)}else n||(o.reading=!1,bo(e,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function go(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Yn(e)),bo(e,t)}function md(e,t){var r;return!od(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new ld("chunk",["string","Buffer","Uint8Array"],t)),r}D.prototype.isPaused=function(){return this._readableState.flowing===!1};D.prototype.setEncoding=function(e){Ct||(Ct=lo().StringDecoder);var t=new Ct(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Js=1073741824;function hd(e){return e>=Js?e=Js:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Vs(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=hd(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}D.prototype.read=function(e){C("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return C("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?yo(this):Yn(this),null;if(e=Vs(e,t),e===0&&t.ended)return t.length===0&&yo(this),null;var n=t.needReadable;C("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,C("length less than watermark",n)),t.ended||t.reading?(n=!1,C("reading or ended",n)):n&&(C("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Vs(r,t)));var i;return e>0?i=Zs(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&yo(this)),i!==null&&this.emit("data",i),i};function gd(e,t){if(C("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Yn(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Xs(e)))}}function Yn(e){var t=e._readableState;C("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(C("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Xs,e))}function Xs(e){var t=e._readableState;C("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,xo(e)}function bo(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(yd,e,t))}function yd(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(C("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}D.prototype._read=function(e){nr(this,new pd("_read()"))};D.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,C("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?s:m;n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(x,w){C("onunpipe"),x===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function s(){C("onend"),e.end()}var l=bd(r);e.on("drain",l);var c=!1;function f(){C("cleanup"),e.removeListener("close",h),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",m),r.removeListener("data",u),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",u);function u(x){C("ondata");var w=e.write(x);C("dest.write",w),w===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Qs(n.pipes,e)!==-1)&&!c&&(C("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(x){C("onerror",x),m(),e.removeListener("error",p),Hs(e,"error")===0&&nr(e,x)}dd(e,"error",p);function h(){e.removeListener("finish",g),m()}e.once("close",h);function g(){C("onfinish"),e.removeListener("close",h),m()}e.once("finish",g);function m(){C("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(C("pipe resume"),r.resume()),e};function bd(e){return function(){var r=e._readableState;C("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Hs(e,"data")&&(r.flowing=!0,xo(e))}}D.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Qs(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};D.prototype.on=function(e,t){var r=ir.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,C("on readable",n.length,n.reading),n.length?Yn(this):n.reading||process.nextTick(wd,this)),r};D.prototype.addListener=D.prototype.on;D.prototype.removeListener=function(e,t){var r=ir.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(Ks,this),r};D.prototype.removeAllListeners=function(e){var t=ir.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(Ks,this),t};function Ks(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function wd(e){C("readable nexttick read 0"),e.read(0)}D.prototype.resume=function(){var e=this._readableState;return e.flowing||(C("resume"),e.flowing=!e.readableListening,xd(this,e)),e.paused=!1,this};function xd(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(_d,e,t))}function _d(e,t){C("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),xo(e),t.flowing&&!t.reading&&e.read(0)}D.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function xo(e){var t=e._readableState;for(C("flow",t.flowing);t.flowing&&e.read()!==null;);}D.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(C("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(C("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(s){return function(){return e[s].apply(e,arguments)}}(i));for(var o=0;o<ho.length;o++)e.on(ho[o],this.emit.bind(this,ho[o]));return this._read=function(a){C("wrapped _read",a),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return uo===void 0&&(uo=Bs()),uo(this)});Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});D._fromList=Zs;Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Zs(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function yo(e){var t=e._readableState;C("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(vd,t,e))}function vd(e,t){if(C("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(D.from=function(e,t){return mo===void 0&&(mo=Gs()),mo(D,e,t)});function Qs(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var _o=k((Lh,rc)=>{"use strict";rc.exports=Fe;var Xn=Ie().codes,Sd=Xn.ERR_METHOD_NOT_IMPLEMENTED,kd=Xn.ERR_MULTIPLE_CALLBACK,Ed=Xn.ERR_TRANSFORM_ALREADY_TRANSFORMING,Td=Xn.ERR_TRANSFORM_WITH_LENGTH_0,Kn=Qe();Ze()(Fe,Kn);function Cd(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new kd);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Fe(e){if(!(this instanceof Fe))return new Fe(e);Kn.call(this,e),this._transformState={afterTransform:Cd.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Pd)}function Pd(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){tc(e,t,r)}):tc(this,null,null)}Fe.prototype.push=function(e,t){return this._transformState.needTransform=!1,Kn.prototype.push.call(this,e,t)};Fe.prototype._transform=function(e,t,r){r(new Sd("_transform()"))};Fe.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Fe.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Fe.prototype._destroy=function(e,t){Kn.prototype._destroy.call(this,e,function(r){t(r)})};function tc(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Td;if(e._transformState.transforming)throw new Ed;return e.push(null)}});var oc=k((Nh,ic)=>{"use strict";ic.exports=or;var nc=_o();Ze()(or,nc);function or(e){if(!(this instanceof or))return new or(e);nc.call(this,e)}or.prototype._transform=function(e,t,r){r(null,e)}});var fc=k((Bh,lc)=>{"use strict";var vo;function Rd(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var cc=Ie().codes,Dd=cc.ERR_MISSING_ARGS,Fd=cc.ERR_STREAM_DESTROYED;function ac(e){if(e)throw e}function jd(e){return e.setHeader&&typeof e.abort=="function"}function $d(e,t,r,n){n=Rd(n);var i=!1;e.on("close",function(){i=!0}),vo===void 0&&(vo=Gn()),vo(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,jd(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new Fd("pipe"))}}}function sc(e){e()}function Ad(e,t){return e.pipe(t)}function Od(e){return!e.length||typeof e[e.length-1]!="function"?ac:e.pop()}function Id(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Od(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Dd("streams");var i,o=t.map(function(a,s){var l=s<t.length-1,c=s>0;return $d(a,l,c,function(f){i||(i=f),f&&o.forEach(sc),!l&&(o.forEach(sc),n(i))})});return t.reduce(Ad)}lc.exports=Id});var pc=k((ue,sr)=>{var ar=require("stream");process.env.READABLE_STREAM==="disable"&&ar?(sr.exports=ar.Readable,Object.assign(sr.exports,ar),sr.exports.Stream=ar):(ue=sr.exports=oo(),ue.Stream=ar||ue,ue.Readable=ue,ue.Writable=ro(),ue.Duplex=Qe(),ue.Transform=_o(),ue.PassThrough=oc(),ue.finished=Gn(),ue.pipeline=fc())});var mc=k((Uh,dc)=>{"use strict";var{Buffer:ye}=require("buffer"),uc=Symbol.for("BufferList");function L(e){if(!(this instanceof L))return new L(e);L._init.call(this,e)}L._init=function(t){Object.defineProperty(this,uc,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};L.prototype._new=function(t){return new L(t)};L.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(t<i||n===this._bufs.length-1)return[n,t-r];r=i}};L.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r};L.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};L.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};L.prototype.copy=function(t,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return t||ye.alloc(0);let o=!!t,a=this._offset(n),s=i-n,l=s,c=o&&r||0,f=a[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:ye.concat(this._bufs,this.length);for(let u=0;u<this._bufs.length;u++)this._bufs[u].copy(t,c),c+=this._bufs[u].length;return t}if(l<=this._bufs[a[0]].length-f)return o?this._bufs[a[0]].copy(t,r,f,f+l):this._bufs[a[0]].slice(f,f+l);o||(t=ye.allocUnsafe(s));for(let u=a[0];u<this._bufs.length;u++){let p=this._bufs[u].length-f;if(l>p)this._bufs[u].copy(t,c,f),c+=p;else{this._bufs[u].copy(t,c,f,f+l),c+=p;break}l-=p,f&&(f=0)}return t.length>c?t.slice(0,c):t};L.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let n=this._offset(t),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};L.prototype.toString=function(t,r,n){return this.slice(r,n).toString(t)};L.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};L.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};L.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(ye.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(ye.from(t));return this};L.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};L.prototype.indexOf=function(e,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=ye.from([e]):typeof e=="string"?e=ye.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=ye.from(e.buffer,e.byteOffset,e.byteLength):ye.isBuffer(e)||(e=ye.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),e.length===0)return t>this.length?this.length:t;let n=this._offset(t),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let a=this._bufs[i];for(;o<a.length;)if(a.length-o>=e.length){let l=a.indexOf(e,o);if(l!==-1)return this._reverseOffset([i,l]);o=a.length-e.length+1}else{let l=this._reverseOffset([i,o]);if(this._match(l,e))return l;o++}o=0}return-1};L.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0};(function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(r){e[r]===null?L.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:L.prototype[r]=function(n=0){return this.slice(n,n+e[r])[r](0)}})(t)})();L.prototype._isBufferList=function(t){return t instanceof L||L.isBufferList(t)};L.isBufferList=function(t){return t!=null&&t[uc]};dc.exports=L});var hc=k((qh,Zn)=>{"use strict";var So=pc().Duplex,Md=Ze(),cr=mc();function ee(e){if(!(this instanceof ee))return new ee(e);if(typeof e=="function"){this._callback=e;let t=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",t)}),this.on("unpipe",function(n){n.removeListener("error",t)}),e=null}cr._init.call(this,e),So.call(this)}Md(ee,So);Object.assign(ee.prototype,cr.prototype);ee.prototype._new=function(t){return new ee(t)};ee.prototype._write=function(t,r,n){this._appendBuffer(t),typeof n=="function"&&n()};ee.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};ee.prototype.end=function(t){So.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};ee.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};ee.prototype._isBufferList=function(t){return t instanceof ee||t instanceof cr||ee.isBufferList(t)};ee.isBufferList=cr.isBufferList;Zn.exports=ee;Zn.exports.BufferListStream=ee;Zn.exports.BufferList=cr});var kc=k((ng,Sc)=>{Sc.exports=vc;vc.sync=qd;var xc=require("fs");function Ud(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function _c(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Ud(t,r)}function vc(e,t,r){xc.stat(e,function(n,i){r(n,n?!1:_c(i,e,t))})}function qd(e,t){return _c(xc.statSync(e),e,t)}});var Rc=k((ig,Pc)=>{Pc.exports=Tc;Tc.sync=Wd;var Ec=require("fs");function Tc(e,t,r){Ec.stat(e,function(n,i){r(n,n?!1:Cc(i,t))})}function Wd(e,t){return Cc(Ec.statSync(e),t)}function Cc(e,t){return e.isFile()&&Gd(e,t)}function Gd(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),f=s|l,u=r&c||r&l&&i===a||r&s&&n===o||r&f&&o===0;return u}});var Fc=k((ag,Dc)=>{var og=require("fs"),ei;process.platform==="win32"||global.TESTING_WINDOWS?ei=kc():ei=Rc();Dc.exports=Po;Po.sync=Jd;function Po(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Po(e,t||{},function(o,a){o?i(o):n(a)})})}ei(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Jd(e,t){try{return ei.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Lc=k((sg,Mc)=>{var jt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",jc=require("path"),Vd=jt?";":":",$c=Fc(),Ac=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Oc=(e,t)=>{let r=t.colon||Vd,n=e.match(/\//)||jt&&e.match(/\\/)?[""]:[...jt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=jt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=jt?i.split(r):[""];return jt&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},Ic=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=Oc(e,t),a=[],s=c=>new Promise((f,u)=>{if(c===n.length)return t.all&&a.length?f(a):u(Ac(e));let p=n[c],h=/^".*"$/.test(p)?p.slice(1,-1):p,g=jc.join(h,e),m=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;f(l(m,c,0))}),l=(c,f,u)=>new Promise((p,h)=>{if(u===i.length)return p(s(f+1));let g=i[u];$c(c+g,{pathExt:o},(m,x)=>{if(!m&&x)if(t.all)a.push(c+g);else return p(c+g);return p(l(c,f,u+1))})});return r?s(0).then(c=>r(null,c),r):s(0)},Hd=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Oc(e,t),o=[];for(let a=0;a<r.length;a++){let s=r[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=jc.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let u=0;u<n.length;u++){let p=f+n[u];try{if($c.sync(p,{pathExt:i}))if(t.all)o.push(p);else return p}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Ac(e)};Mc.exports=Ic;Ic.sync=Hd});var Bc=k((cg,Ro)=>{"use strict";var Nc=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Ro.exports=Nc;Ro.exports.default=Nc});var Gc=k((lg,Wc)=>{"use strict";var Uc=require("path"),zd=Lc(),Yd=Bc();function qc(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let a;try{a=zd.sync(e.command,{path:r[Yd({env:r})],pathExt:t?Uc.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return a&&(a=Uc.resolve(i?e.options.cwd:"",a)),a}function Xd(e){return qc(e)||qc(e,!0)}Wc.exports=Xd});var Jc=k((fg,Fo)=>{"use strict";var Do=/([()\][%!^"`<>&|;, *?])/g;function Kd(e){return e=e.replace(Do,"^$1"),e}function Zd(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Do,"^$1"),t&&(e=e.replace(Do,"^$1")),e}Fo.exports.command=Kd;Fo.exports.argument=Zd});var Hc=k((pg,Vc)=>{"use strict";Vc.exports=/^#!(.*)/});var Yc=k((ug,zc)=>{"use strict";var Qd=Hc();zc.exports=(e="")=>{let t=e.match(Qd);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Kc=k((dg,Xc)=>{"use strict";var jo=require("fs"),em=Yc();function tm(e){let r=Buffer.alloc(150),n;try{n=jo.openSync(e,"r"),jo.readSync(n,r,0,150,0),jo.closeSync(n)}catch{}return em(r.toString())}Xc.exports=tm});var tl=k((mg,el)=>{"use strict";var rm=require("path"),Zc=Gc(),Qc=Jc(),nm=Kc(),im=process.platform==="win32",om=/\.(?:com|exe)$/i,am=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function sm(e){e.file=Zc(e);let t=e.file&&nm(e.file);return t?(e.args.unshift(e.file),e.command=t,Zc(e)):e.file}function cm(e){if(!im)return e;let t=sm(e),r=!om.test(t);if(e.options.forceShell||r){let n=am.test(t);e.command=rm.normalize(e.command),e.command=Qc.command(e.command),e.args=e.args.map(o=>Qc.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function lm(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:cm(n)}el.exports=lm});var il=k((hg,nl)=>{"use strict";var $o=process.platform==="win32";function Ao(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function fm(e,t){if(!$o)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=rl(i,t,"spawn");if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function rl(e,t){return $o&&e===1&&!t.file?Ao(t.original,"spawn"):null}function pm(e,t){return $o&&e===1&&!t.file?Ao(t.original,"spawnSync"):null}nl.exports={hookChildProcess:fm,verifyENOENT:rl,verifyENOENTSync:pm,notFoundError:Ao}});var Mo=k((gg,$t)=>{"use strict";var ol=require("child_process"),Oo=tl(),Io=il();function al(e,t,r){let n=Oo(e,t,r),i=ol.spawn(n.command,n.args,n.options);return Io.hookChildProcess(i,n),i}function um(e,t,r){let n=Oo(e,t,r),i=ol.spawnSync(n.command,n.args,n.options);return i.error=i.error||Io.verifyENOENTSync(i.status,n),i}$t.exports=al;$t.exports.spawn=al;$t.exports.sync=um;$t.exports._parse=Oo;$t.exports._enoent=Io});var Wl=k((Ay,Em)=>{Em.exports={name:"thirdweb",main:"dist/cli/index.js",version:"0.13.22",repository:"https://github.com/thirdweb-dev/js/tree/main/packages/cli",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",engines:{node:">=18.0.0"},devDependencies:{"@gmrchk/cli-testing-library":"^0.1.2","@thirdweb-dev/tsconfig":"workspace:*","@types/async-retry":"^1.3.0","@types/cross-spawn":"^6.0.2","@types/inquirer":"^8.2.1","@types/jest":"^29.5.3","@types/js-yaml":"^4.0.5","@types/node":"^18.17.1","@types/prompts":"^2.4.4","@types/rimraf":"^3.0.0","@types/tar":"^6.1.5","@types/update-notifier":"^6.0.4","@types/validate-npm-package-name":"^4.0.0",chalk:"^5.3.0","cross-spawn":"^7.0.3","dotenv-mono":"^1.3.10","eslint-config-thirdweb":"workspace:*",hardhat:"^2.17.0",jest:"^29.6.2",ora:"^6.3.1",prettier:"^3.0.0","ts-jest":"^29.1.1","ts-node":"^10.7.0",tsup:"^6.7.0",typescript:"^5.1.6"},dependencies:{"@iarna/toml":"^2.2.5","@thirdweb-dev/auth":"workspace:*","@thirdweb-dev/chains":"workspace:*","@thirdweb-dev/sdk":"workspace:*","@thirdweb-dev/storage":"workspace:*","@thirdweb-dev/wallets":"workspace:*","async-retry":"^1.3.3",commander:"^9.1.0","detect-package-manager":"^2.0.1",enquirer:"^2.3.6",ethers:"^5.7.2",got:"11.8.5",inquirer:"^8.2.3","js-yaml":"^4.1.0",open:"^8.4.0",prompts:"^2.4.2",rimraf:"^3.0.2",solc:"0.8.17",tar:"^6.1.15","update-notifier":"^6.0.2","validate-npm-package-name":"^4.0.0","xdg-app-paths":"^8.3.0",yaml:"^2.3.1"},bin:{thirdweb:"./dist/cli/index.js"},scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",cli:"node -r ts-node/register src/cli/index.ts",build:"pnpm clean && tsup --env.NODE_ENV production --minify --format cjs --external hardhat --dts-resolve","build:watch":"pnpm run build --watch","generate-thirdweb-package":"node scripts/generate-thirdweb-package.js",e2e:"jest"},files:["src/","dist/"],tsup:{entry:["src/cli/index.ts","src/helpers/hardhat-config-extractor.ts"],splitting:!1,sourcemap:!0,clean:!0}}});var ga=require("@thirdweb-dev/storage");var ka=(e=0)=>t=>`\x1B[${t+e}m`,Ea=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Ta=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,N={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Jm=Object.keys(N.modifier),cp=Object.keys(N.color),lp=Object.keys(N.bgColor),Vm=[...cp,...lp];function fp(){let e=new Map;for(let[t,r]of Object.entries(N)){for(let[n,i]of Object.entries(r))N[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=N[n],e.set(i[0],i[1]);Object.defineProperty(N,t,{value:r,enumerable:!1})}return Object.defineProperty(N,"codes",{value:e,enumerable:!1}),N.color.close="\x1B[39m",N.bgColor.close="\x1B[49m",N.color.ansi=ka(),N.color.ansi256=Ea(),N.color.ansi16m=Ta(),N.bgColor.ansi=ka(10),N.bgColor.ansi256=Ea(10),N.bgColor.ansi16m=Ta(10),Object.defineProperties(N,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(o=>o+o).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>N.rgbToAnsi256(...N.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,n=Math.floor(s/6)/5,i=s%6/5}let o=Math.max(r,n,i)*2;if(o===0)return 30;let a=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return o===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>N.ansi256ToAnsi(N.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>N.ansi256ToAnsi(N.hexToAnsi256(t)),enumerable:!1}}),N}var pp=fp(),ge=pp;var Tn=_(require("process"),1),Pa=_(require("os"),1),ji=_(require("tty"),1);function le(e,t=globalThis.Deno?globalThis.Deno.args:Tn.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:q}=Tn.default,En;le("no-color")||le("no-colors")||le("color=false")||le("color=never")?En=0:(le("color")||le("colors")||le("color=true")||le("color=always"))&&(En=1);function up(){if("FORCE_COLOR"in q)return q.FORCE_COLOR==="true"?1:q.FORCE_COLOR==="false"?0:q.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(q.FORCE_COLOR,10),3)}function dp(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function mp(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=up();n!==void 0&&(En=n);let i=r?En:n;if(i===0)return 0;if(r){if(le("color=16m")||le("color=full")||le("color=truecolor"))return 3;if(le("color=256"))return 2}if("TF_BUILD"in q&&"AGENT_NAME"in q)return 1;if(e&&!t&&i===void 0)return 0;let o=i||0;if(q.TERM==="dumb")return o;if(Tn.default.platform==="win32"){let a=Pa.default.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in q)return"GITHUB_ACTIONS"in q||"GITEA_ACTIONS"in q?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(a=>a in q)||q.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q.TEAMCITY_VERSION)?1:0;if(q.COLORTERM==="truecolor"||q.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in q){let a=Number.parseInt((q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(q.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(q.TERM)||"COLORTERM"in q?1:o}function Ca(e,t={}){let r=mp(e,{streamIsTTY:e&&e.isTTY,...t});return dp(r)}var hp={stdout:Ca({isTTY:ji.default.isatty(1)}),stderr:Ca({isTTY:ji.default.isatty(2)})},Ra=hp;function Da(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let i=t.length,o=0,a="";do a+=e.slice(o,n)+t+r,o=n+i,n=e.indexOf(t,o);while(n!==-1);return a+=e.slice(o),a}function Fa(e,t,r,n){let i=0,o="";do{let a=e[n-1]==="\r";o+=e.slice(i,a?n-1:n)+t+(a?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return o+=e.slice(i),o}var{stdout:ja,stderr:$a}=Ra,$i=Symbol("GENERATOR"),bt=Symbol("STYLER"),Ht=Symbol("IS_EMPTY"),Aa=["ansi","ansi","ansi256","ansi16m"],wt=Object.create(null),gp=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=ja?ja.level:0;e.level=t.level===void 0?r:t.level};var yp=e=>{let t=(...r)=>r.join(" ");return gp(t,e),Object.setPrototypeOf(t,zt.prototype),t};function zt(e){return yp(e)}Object.setPrototypeOf(zt.prototype,Function.prototype);for(let[e,t]of Object.entries(ge))wt[e]={get(){let r=Cn(this,Oi(t.open,t.close,this[bt]),this[Ht]);return Object.defineProperty(this,e,{value:r}),r}};wt.visible={get(){let e=Cn(this,this[bt],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Ai=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?ge[r].ansi16m(...n):t==="ansi256"?ge[r].ansi256(ge.rgbToAnsi256(...n)):ge[r].ansi(ge.rgbToAnsi(...n)):e==="hex"?Ai("rgb",t,r,...ge.hexToRgb(...n)):ge[r][e](...n),bp=["rgb","hex","ansi256"];for(let e of bp){wt[e]={get(){let{level:r}=this;return function(...n){let i=Oi(Ai(e,Aa[r],"color",...n),ge.color.close,this[bt]);return Cn(this,i,this[Ht])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);wt[t]={get(){let{level:r}=this;return function(...n){let i=Oi(Ai(e,Aa[r],"bgColor",...n),ge.bgColor.close,this[bt]);return Cn(this,i,this[Ht])}}}}var wp=Object.defineProperties(()=>{},{...wt,level:{enumerable:!0,get(){return this[$i].level},set(e){this[$i].level=e}}}),Oi=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},Cn=(e,t,r)=>{let n=(...i)=>xp(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,wp),n[$i]=e,n[bt]=t,n[Ht]=r,n},xp=(e,t)=>{if(e.level<=0||!t)return e[Ht]?"":t;let r=e[bt];if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=Da(t,r.close,r.open),r=r.parent;let o=t.indexOf(`
`);return o!==-1&&(t=Fa(t,i,n,o)),n+t+i};Object.defineProperties(zt.prototype,wt);var _p=zt(),Qm=zt({level:$a?$a.level:0});var d=_p;var kn=require("child_process"),Zf=require("commander"),yt=_(require("fs")),ya=_(require("open")),Sn=_(require("path")),Qf=_(require("prompts")),ba=_(require("xdg-app-paths"));var yl=_(require("assert"));var z=_(require("fs")),bl=_(require("http")),wl=_(require("open"));var fr=_(require("process"),1);var Ni=_(require("process"),1);var Ja=_(require("process"),1),Va=_(La(),1),Ha=_(Ga(),1),Sp=(0,Va.default)(()=>{(0,Ha.default)(()=>{Ja.default.stderr.write("\x1B[?25h")},{alwaysLast:!0})}),za=Sp;var An=!1,St={};St.show=(e=Ni.default.stderr)=>{e.isTTY&&(An=!1,e.write("\x1B[?25h"))};St.hide=(e=Ni.default.stderr)=>{e.isTTY&&(za(),An=!0,e.write("\x1B[?25l"))};St.toggle=(e,t)=>{e!==void 0&&(An=e),An?St.show(t):St.hide(t)};var Bi=St;var pr=_(Ui(),1);var fe=_(require("process"),1);function Xt(){return fe.default.platform!=="win32"?fe.default.env.TERM!=="linux":!!fe.default.env.CI||!!fe.default.env.WT_SESSION||!!fe.default.env.TERMINUS_SUBLIME||fe.default.env.ConEmuTask==="{cmd::Cmder}"||fe.default.env.TERM_PROGRAM==="Terminus-Sublime"||fe.default.env.TERM_PROGRAM==="vscode"||fe.default.env.TERM==="xterm-256color"||fe.default.env.TERM==="alacritty"||fe.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Ep={info:d.blue("\u2139"),success:d.green("\u2714"),warning:d.yellow("\u26A0"),error:d.red("\u2716")},Tp={info:d.blue("i"),success:d.green("\u221A"),warning:d.yellow("\u203C"),error:d.red("\xD7")},Cp=Xt()?Ep:Tp,Kt=Cp;function qi({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function Wi(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(qi(),"")}var bc=_(as(),1);function Ji({stream:e=process.stdout}={}){return!!(e&&e.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}var de=_(require("process"),1),gc=_(require("readline"),1),yc=_(hc(),1);var Ld=3,je,lr,Pt,Ue,ko=class{constructor(){U(this,je,0);U(this,lr,new yc.BufferListStream);U(this,Pt,void 0);U(this,Ue,void 0);b(this,lr).pipe(de.default.stdout);let t=this;P(this,Pt,function(r,n,...i){let{stdin:o}=de.default;if(b(t,je)>0||o.emit===b(t,Pt)){if(r==="keypress")return;r==="data"&&n.includes(Ld)&&de.default.emit("SIGINT"),Reflect.apply(b(t,Pt),this,[r,n,...i])}else Reflect.apply(de.default.stdin.emit,this,[r,n,...i])})}start(){Vt(this,je)._++,b(this,je)===1&&this._realStart()}stop(){if(b(this,je)<=0)throw new Error("`stop` called more times than `start`");Vt(this,je)._--,b(this,je)===0&&this._realStop()}_realStart(){de.default.platform!=="win32"&&(P(this,Ue,gc.default.createInterface({input:de.default.stdin,output:b(this,lr)})),b(this,Ue).on("SIGINT",()=>{de.default.listenerCount("SIGINT")===0?de.default.emit("SIGINT"):(b(this,Ue).close(),de.default.kill(de.default.pid,"SIGINT"))}))}_realStop(){de.default.platform!=="win32"&&(b(this,Ue).close(),P(this,Ue,void 0))}};je=new WeakMap,lr=new WeakMap,Pt=new WeakMap,Ue=new WeakMap;var Nd=new ko,Eo=Nd;var Bd=_(Ui(),1);var qe,Rt,it,$e,J,Ee,K,ot,Dt,Te,Ce,Pe,Ft,be,we,To=class{constructor(t){U(this,qe,0);U(this,Rt,!1);U(this,it,0);U(this,$e,0);U(this,J,void 0);U(this,Ee,void 0);U(this,K,void 0);U(this,ot,void 0);U(this,Dt,void 0);U(this,Te,void 0);U(this,Ce,void 0);U(this,Pe,void 0);U(this,Ft,void 0);U(this,be,void 0);U(this,we,void 0);va(this,"color");typeof t=="string"&&(t={text:t}),P(this,J,{color:"cyan",stream:fr.default.stderr,discardStdin:!0,hideCursor:!0,...t}),this.color=b(this,J).color,this.spinner=b(this,J).spinner,P(this,Dt,b(this,J).interval),P(this,K,b(this,J).stream),P(this,Te,typeof b(this,J).isEnabled=="boolean"?b(this,J).isEnabled:Ji({stream:b(this,K)})),P(this,Ce,typeof b(this,J).isSilent=="boolean"?b(this,J).isSilent:!1),this.text=b(this,J).text,this.prefixText=b(this,J).prefixText,this.suffixText=b(this,J).suffixText,this.indent=b(this,J).indent,fr.default.env.NODE_ENV==="test"&&(this._stream=b(this,K),this._isEnabled=b(this,Te),Object.defineProperty(this,"_linesToClear",{get(){return b(this,qe)},set(r){P(this,qe,r)}}),Object.defineProperty(this,"_frameIndex",{get(){return b(this,$e)}}),Object.defineProperty(this,"_lineCount",{get(){return b(this,it)}}))}get indent(){return b(this,Pe)}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");P(this,Pe,t),this.updateLineCount()}get interval(){return b(this,Dt)||b(this,Ee).interval||100}get spinner(){return b(this,Ee)}set spinner(t){if(P(this,$e,0),P(this,Dt,void 0),typeof t=="object"){if(t.frames===void 0)throw new Error("The given spinner must have a `frames` property");P(this,Ee,t)}else if(!Xt())P(this,Ee,pr.default.line);else if(t===void 0)P(this,Ee,pr.default.dots);else if(t!=="default"&&pr.default[t])P(this,Ee,pr.default[t]);else throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return b(this,Ft)}set text(t){P(this,Ft,t||""),this.updateLineCount()}get prefixText(){return b(this,be)}set prefixText(t){P(this,be,t||""),this.updateLineCount()}get suffixText(){return b(this,we)}set suffixText(t){P(this,we,t||""),this.updateLineCount()}get isSpinning(){return b(this,ot)!==void 0}getFullPrefixText(t=b(this,be),r=" "){return typeof t=="string"&&t!==""?t+r:typeof t=="function"?t()+r:""}getFullSuffixText(t=b(this,we),r=" "){return typeof t=="string"&&t!==""?r+t:typeof t=="function"?r+t():""}updateLineCount(){let t=b(this,K).columns||80,r=this.getFullPrefixText(b(this,be),"-"),n=this.getFullSuffixText(b(this,we),"-"),i=" ".repeat(b(this,Pe))+r+"--"+b(this,Ft)+"--"+n;P(this,it,0);for(let o of Wi(i).split(`
`))P(this,it,b(this,it)+Math.max(1,Math.ceil((0,bc.default)(o)/t)))}get isEnabled(){return b(this,Te)&&!b(this,Ce)}set isEnabled(t){if(typeof t!="boolean")throw new TypeError("The `isEnabled` option must be a boolean");P(this,Te,t)}get isSilent(){return b(this,Ce)}set isSilent(t){if(typeof t!="boolean")throw new TypeError("The `isSilent` option must be a boolean");P(this,Ce,t)}frame(){let{frames:t}=b(this,Ee),r=t[b(this,$e)];this.color&&(r=d[this.color](r)),P(this,$e,++Vt(this,$e)._%t.length);let n=typeof b(this,be)=="string"&&b(this,be)!==""?b(this,be)+" ":"",i=typeof this.text=="string"?" "+this.text:"",o=typeof b(this,we)=="string"&&b(this,we)!==""?" "+b(this,we):"";return n+r+i+o}clear(){if(!b(this,Te)||!b(this,K).isTTY)return this;b(this,K).cursorTo(0);for(let t=0;t<b(this,qe);t++)t>0&&b(this,K).moveCursor(0,-1),b(this,K).clearLine(1);return(b(this,Pe)||this.lastIndent!==b(this,Pe))&&b(this,K).cursorTo(b(this,Pe)),this.lastIndent=b(this,Pe),P(this,qe,0),this}render(){return b(this,Ce)?this:(this.clear(),b(this,K).write(this.frame()),P(this,qe,b(this,it)),this)}start(t){return t&&(this.text=t),b(this,Ce)?this:b(this,Te)?this.isSpinning?this:(b(this,J).hideCursor&&Bi.hide(b(this,K)),b(this,J).discardStdin&&fr.default.stdin.isTTY&&(P(this,Rt,!0),Eo.start()),this.render(),P(this,ot,setInterval(this.render.bind(this),this.interval)),this):(this.text&&b(this,K).write(`- ${this.text}
`),this)}stop(){return b(this,Te)?(clearInterval(b(this,ot)),P(this,ot,void 0),P(this,$e,0),this.clear(),b(this,J).hideCursor&&Bi.show(b(this,K)),b(this,J).discardStdin&&fr.default.stdin.isTTY&&b(this,Rt)&&(Eo.stop(),P(this,Rt,!1)),this):this}succeed(t){return this.stopAndPersist({symbol:Kt.success,text:t})}fail(t){return this.stopAndPersist({symbol:Kt.error,text:t})}warn(t){return this.stopAndPersist({symbol:Kt.warning,text:t})}info(t){return this.stopAndPersist({symbol:Kt.info,text:t})}stopAndPersist(t={}){if(b(this,Ce))return this;let r=t.prefixText||b(this,be),n=this.getFullPrefixText(r," "),i=t.symbol||" ",o=t.text||this.text,a=typeof o=="string"?" "+o:"",s=t.suffixText!==void 0?t.suffixText:b(this,we),l=this.getFullSuffixText(s," "),c=n+i+a+l+`
`;return this.stop(),b(this,K).write(c),this}};qe=new WeakMap,Rt=new WeakMap,it=new WeakMap,$e=new WeakMap,J=new WeakMap,Ee=new WeakMap,K=new WeakMap,ot=new WeakMap,Dt=new WeakMap,Te=new WeakMap,Ce=new WeakMap,Pe=new WeakMap,Ft=new WeakMap,be=new WeakMap,we=new WeakMap;function F(e){return new To(e)}var xl=_(require("url"));function Qn(e,t){let r=["debug","info","warn","error"];return r.indexOf(t)>=r.indexOf(e)}var Ae,Co=class{constructor(t){U(this,Ae,"info");t?.minLevel&&P(this,Ae,t.minLevel)}setSettings(t){t.minLevel&&P(this,Ae,t.minLevel)}debug(...t){Qn(b(this,Ae),"debug")&&console.info(...t)}info(...t){Qn(b(this,Ae),"info")&&console.info(...t)}warn(...t){Qn(b(this,Ae),"warn")&&console.warn(...t)}error(...t){Qn(b(this,Ae),"error")&&console.error(...t)}};Ae=new WeakMap;var y=new Co;function ne(e){return F(`${e}
`).start()}function M(e){return F(e).succeed()}function wc(e){return F(e).warn()}function ur(e){return F(e).fail()}var _l=require("@thirdweb-dev/auth");var Lo=_(require("@iarna/toml")),Re=require("fs"),ll=_(require("path"));var sl=_(Mo());async function V(e,t,r=!1,n){return new Promise((i,o)=>{let a=(0,sl.spawn)(e,t);a.stdout?.on("data",s=>{n&&n(s),r&&console.log(s.toString())}),a.stderr?.on("data",s=>{r&&console.error(s.toString())}),a.on("error",s=>{console.log("Spawn error",s)}),a.on("close",s=>{if(s!==0){o({command:`${e}`,exitCode:s});return}i()})})}var fl=_(require("crypto"));function pl(e){return fl.default.randomBytes(e).toString("hex")}function cl(e){return Object.entries(e).map(([t,r])=>{let n="";return typeof r=="string"?n=r:typeof r=="object"&&(n=r.version),n=n.replace("^",""),`${t}==${n}`})}var O=e=>{let t=JSON.parse(e.toString()),r=t.dependencies||{},n=t.devDependencies||{},i=t.peerDependencies||{};return{dependencies:r,devDependencies:n,peerDependencies:i}},dm=e=>({dependencies:e.toString().split(`
`)}),mm=e=>{let t=Lo.parse(e),r=t.packages||[],n=t["dev-packages"]||[];return{dependencies:r,devDependencies:n}},hm=e=>{let t=Lo.parse(e),r=t.tool.poetry.dependencies||[],n=t.tool.poetry["dev-dependencies"]||[];return{dependencies:cl(r),devDependencies:cl(n)}},We=e=>{let t=[],r=e.split(`
`);return r.forEach(n=>{if(n=n.trim(),n.startsWith("require (")){let i=r.indexOf(n)+1;for(;i<r.length&&r[i].trim()!==")";){let o=r[i].trim(),[a,s]=o.split(" ");t.push({name:a,version:s}),i++}}}),{dependencies:t}},Ge=(e,t)=>{let r=e.split(`
`);return r.forEach(()=>{if(r.includes(t))return!0}),!1},ae=(e,t)=>{let r=[],n=[];switch(t){case"pip":if(!(0,Re.existsSync)(e+"/requirements.txt"))break;let o=(0,Re.readFileSync)(e+"/requirements.txt");r=dm(o).dependencies;break;case"pipenv":if(!(0,Re.existsSync)(e+"Pipfile"))break;let s=(0,Re.readFileSync)(e+"Pipfile","utf-8"),l=mm(s);r=l.dependencies,n=l.devDependencies;break;case"poetry":if(!(0,Re.existsSync)(e+"/pyproject.toml"))break;let f=(0,Re.readFileSync)(e+"/pyproject.toml","utf-8");r=hm(f).dependencies;break;default:break}return{dependencies:r,devDependencies:n}},gm=async e=>{try{let t=`https://registry.npmjs.org/${e}`,r=await fetch(t);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json())["dist-tags"].latest}catch(t){console.error(`Failed to get latest version of ${e}:`,t)}},No=async(e,t,r,n,i)=>{let o="",a=[],s=[],l=[],c=i?.debug||!1;switch(e){case"npm":o="npm",a=["install"],s=["install","--legacy-peer-deps"];break;case"yarn":o="yarn",a=["add"],s=["add"];break;case"pnpm":o="pnpm",a=["install"],s=["update"];break;case"pip":o="pip",a=["install"],s=["install","--upgrade"];break;case"pipenv":o="pipenv",a=["install"],s=["update"];break;case"poetry":o="poetry",a=["add"],s=["update"];break;case"go-modules":o="go",a=["get"],s=["get","-u"];break;case"brownie":o="brownie",a=["pm","install"],s=["pm","update"],l=["pm","delete"];break;case"foundry":o="forge",a=["install","--no-commit"],s=["update"],l=["remove"];break;default:break}if(n==="install"){if(!t.length)return;let f=[...a,...t];await V(o,f,c),i?.oldVersion&&await V(o,[...l,i.oldVersion],c)}if(n==="update"){if(!r.length)return;let f=[...s,...r];await V(o,f,c)}},ul=async e=>{let r=(await ym()).match(e);return r!==null?{package:r[0],exists:!0}:{package:"",exists:!1}},ym=async()=>{let e="";return await V("brownie",["pm","list"],!0,t=>{e+=t.toString()}),e=e.replace(/\u001b\[\d+(;\d+)*m/g,""),e},dl=async(e,t)=>{let r=ll.default.join(e,"lib",t);return(0,Re.existsSync)(r)},ml=e=>{let r=(0,Re.readFileSync)(e+"/go.mod","utf-8").split(`
`),n=[];for(let i of r)if(i.includes("github.com/thirdweb-dev")){let o=i.split(/\s+/),a=o[1].trim(),s=o[2];n.push({name:a,version:s})}return n},hl=async e=>{let{detectedPackageManager:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,isJSPackageManager:i}=e;if(i&&(r.has("@thirdweb-dev/contracts")||n.add("@thirdweb-dev/contracts")),t==="brownie"){let o=await gm("@thirdweb-dev/contracts");if(r.has(`thirdweb-dev/contracts@${o}`))return Promise.reject("You already have the latest version of thirdweb-dev/contracts installed.");r.has(`thirdweb-dev/contracts@${o}`)||n.add(`thirdweb-dev/contracts@${o}`)}t==="foundry"&&(r.has("lib/thirdweb-contracts")||n.add("thirdweb-contracts=thirdweb-dev/contracts"))},gl=async e=>{let{detectedFramework:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,hasEthers:i,isJSPackageManager:o,otherDeps:a,isPythonPackageManager:s,isGoPackageManager:l,detectedLibrary:c}=e,u=["react","react-native","next","gatsby","cra","remix","vue","vite","svelte"].includes(t),p=c==="react-native";o&&(!r.has("@thirdweb-dev/react")&&u&&n.add("@thirdweb-dev/react"),!r.has("@thirdweb-dev/sdk")&&!p&&n.add("@thirdweb-dev/sdk"),!r.has("@thirdweb-dev/react-native")&&p&&n.add("@thirdweb-dev/react-native"),!r.has("@thirdweb-dev/react-native-compat")&&p&&n.add("@thirdweb-dev/react-native-compat"),i||a.add("ethers@5")),s&&(r.has("thirdweb-sdk")||n.add("thirdweb-sdk")),l&&(r.has("github.com/thirdweb-dev/go-sdk/v2")||n.add("github.com/thirdweb-dev/go-sdk/v2"))};var vl=_(require("crypto")),bm={browser:!0,configPaths:{credsConfigPath:"",cliWalletPath:"",tokenPath:""}};async function At(e,t,r){let{credsConfigPath:n,tokenPath:i}=e,o=await wm(i,n);if(o&&!t?.new)return r&&console.log(d.green("You are already logged in")),globalThis.TW_CLI_AUTH_TOKEN=o,o;{let a=await xm({browser:!0,configPaths:e});if(!a)throw new Error("Failed to login");return globalThis.TW_CLI_AUTH_TOKEN=a,a}}async function Sl(e,t,r){try{if(F("Logging out...").start(),!(z.default.existsSync(e)&&z.default.existsSync(t)&&z.default.existsSync(r))){F().warn(d.yellow("You are already logged out, did you mean to login?"));return}z.default.unlinkSync(e),z.default.unlinkSync(t),z.default.unlinkSync(r),F().succeed(d.green("You have been logged out"))}catch(n){console.log(d.red("Something went wrong",n))}}async function wm(e,t){if(!z.default.existsSync(e)||!z.default.existsSync(t))return null;try{return z.default.readFileSync(e,"utf8")}catch(r){console.error(r)}}var xm=async(e=bm)=>{let{credsConfigPath:t,cliWalletPath:r,tokenPath:n}=e.configPaths,i=ne("Waiting for a response from the dashboard").clear(),o=await _m(t,r),a=await o.getAddress(),s="thirdweb.com",c=await new _l.ThirdwebAuth(o,s).login({domain:s,address:a}),f=pl(32),p=`https://thirdweb.com/cli/login?payload=${encodeURIComponent(JSON.stringify(c))}&#${f}`,h,g,m=new Promise((w,v)=>{g=setTimeout(()=>{y.error("Login session timed out, server didn't receive a response in 5 minutes. Please try again."),h.close(),clearTimeout(g),v(new Error("Login session timed out, server didn't receive a response in 5 minutes. Please try again."))},3e5)}),x=new Promise((w,v)=>{h=bl.default.createServer(async(S,R)=>{function T(G){clearTimeout(g),h.close(oe=>{(G||oe)&&v(G||oe)})}if(R.setHeader("Access-Control-Allow-Credentials","true"),R.setHeader("Access-Control-Allow-Origin","https://thirdweb.com"),R.setHeader("Access-Control-Allow-Methods","POST"),S.method==="OPTIONS"){R.setHeader("Access-Control-Allow-Headers","content-type, baggage, sentry-trace"),R.writeHead(200),R.end();return}(0,yl.default)(S.url,"This request doesn't have a URL");let{pathname:$,query:A}=xl.default.parse(S.url,!0);switch($){case"/auth/callback":if(A.failed&&(R.writeHead(500,"Unable to authenticate with the dashboard!"),R.end("Unable to authenticate with the dashboard!",()=>{T(new Error("Unable to authenticate with the dashboard!"))}),v(d.red("Something went wrong! Unable to authenticate with the dashboard.")),i.stop()),A.token){let G=Array.isArray(A.token)?A.token[0]:A.token;(Array.isArray(A.state)?A.state[0]:A.state)!==f?(R.writeHead(400,{"Content-Type":"text/plain"}),R.end("Unauthorized request, state mismatch",()=>{T(new Error("Unauthorized request, state mismatch"))}),v(new Error(d.red(`
Unauthorized request, state mismatch`))),i.stop()):(z.default.writeFileSync(n,G),R.end(()=>{i.clear(),console.log(d.green("Successfully linked your account to this device")),T()}),y.info(d.green(`
Successfully logged in.`)),w(G))}else R.writeHead(400,{"Content-Type":"text/plain"}),R.end("No authToken received",()=>{T(new Error("No authToken received"))}),v(new Error(d.red(`
No authToken received`))),i.stop()}}),h.listen(8976)});return console.log(`Automatically attempting to open a link to authenticate with our dashboard...
`),i.start(),setTimeout(async()=>{await(0,wl.default)(p)},2e3),console.log(d.yellow(`If the browser doesn't open, please use this link to authenticate:
`)),console.log(d.yellow(p+`
`)),Promise.race([m,x])};async function kl(e){if(z.default.existsSync(e)){let r=z.default.readFileSync(e,"utf8");try{JSON.parse(r)}catch{return z.default.unlinkSync(e),kl(e)}let{password:n}=JSON.parse(r);return n}else return vl.default.randomUUID()}async function _m(e,t){let r=await kl(e),{LocalWallet:n}=await import("@thirdweb-dev/wallets"),i=new n;if(z.default.existsSync(t)){let s=z.default.readFileSync(t,"utf8");try{return JSON.parse(s),await i.import({encryptedJson:s,password:r}),i}catch{}}i.generate();let a=await i.export({strategy:"encryptedJson",password:r});return z.default.writeFileSync(t,a,{encoding:"utf8",mode:384}),z.default.writeFileSync(e,JSON.stringify({password:r}),"utf8"),i}var dr=async e=>{let t="https://api.thirdweb.com/v1/keys/use";try{if((await fetch(`${t}?scope=storage`,{method:"GET",headers:{"Content-Type":"application/json","x-secret-key":e}})).status!==200)throw new Error("Unauthorized key")}catch{throw new Error(d.red("Unauthorized key"))}};var ti=["ContractMetadata","Permissions"];var xe=require("fs"),Je=require("path");function ce(e,t,r){if(!(0,xe.existsSync)(e)){console.log("no dir ",e);return}let n=(0,xe.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Je.join)(e,n[i]);if((0,Je.basename)(o,".json")==="ThirdwebContract")continue;let a=(0,xe.statSync)(o);if(a.isDirectory()&&(0,Je.basename)(o)==="dependencies"){y.debug('skipping "dependencies" directory');continue}else if(a.isDirectory()&&(0,Je.basename)(o)==="node_modules"){y.debug('skipping "node_modules" directory');continue}a.isDirectory()?ce(o,t,r):t.test(o)&&r.push(o)}}function Bo(e,t,r){if(!(0,xe.existsSync)(e)){console.log("no dir ",e);return}let n=(0,xe.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Je.join)(e,n[i]),a=(0,xe.statSync)(o);if(!(a.isDirectory()&&(0,Je.basename)(o)==="node_modules")&&!(a.isDirectory()&&o.startsWith(".")))if(a.isDirectory())Bo(o,t,r);else{let l=(0,xe.readFileSync)(o,"utf-8").match(t);l&&r.push(...l)}}}var El=require("child_process");async function Z(e,t,r={log:!1,cwd:t}){return new Promise((n,i)=>{(0,El.exec)(e,{...r},(o,a,s)=>{if(o){i(o);return}n({stdout:a,stderr:s})})})}var Tl=require("@thirdweb-dev/sdk/evm"),me=class{shouldProcessContract(t,r,n,i){if(!r||r===""||r==="0x"||!t||t.length===0)return!1;if(n==="ThirdwebContract"||n.toLowerCase().includes("test")||n.toLowerCase().includes("mock"))return y.debug(`Skipping '${n}'.`),!1;if(!i){let o;try{o=(0,Tl.extractIPFSHashFromBytecode)(r)}catch(a){y.debug(`Error extracting IPFS hash from '${n}': ${a}`)}if(!o)return y.debug(`Cannot resolve build metadata IPFS hash for contract '${n}'. Skipping.`),!1}return!0}isThirdwebContract(t){try{return t.name==="setThirdwebInfo"&&t.inputs[0].internalType==="struct ThirdwebContract.ThirdwebInfo"?(y.error("You are using an old version of ThirdwebContract, please update to the latest version: 'npm i @thirdweb-dev/contracts'"),!1):t.name==="tw_initializeOwner"&&t.inputs[0].internalType==="address"}catch{return!1}}};var at=require("fs"),Ot=require("path"),Cl=require("yaml"),ri=class extends me{async compile(t){let r=(0,Cl.parse)((0,at.readFileSync)((0,Ot.join)(t.projectPath,"brownie-config.yaml"),"utf-8")),n=(0,Ot.join)(t.projectPath,r?.project_structure?.build||"./build");(0,at.existsSync)(n)&&(0,at.rmSync)(n,{recursive:!0}),await Z("brownie compile",t.projectPath);let i=(0,Ot.join)(n,"contracts/"),o=[],a=[];ce(i,/^.*(?<!dbg)\.json$/,a);for(let s of a){y.debug("Processing:",s.replace(i,""));let l=(0,Ot.basename)(s,".json"),c=(0,at.readFileSync)(s,"utf-8"),f=JSON.parse(c),{abi:u,bytecode:p}=f;for(let h of u)if(this.isThirdwebContract(h)){o.find(g=>g.name===l)&&(y.error(`Found multiple contracts with name "${l}". Contract names should be unique.`),process.exit(1)),o.push({metadata:{},bytecode:p,sources:[],fileName:"",name:l});break}}return{contracts:o}}};var Pl=require("child_process");async function ni(){return await new Promise(e=>{(0,Pl.exec)("forge --version",t=>{e(!t)})})}var It=require("fs"),Mt=require("path"),ii=class extends me{async compile(t){await ni()||(console.error(`
${d.redBright("error")} You don't have forge installed on this machine!

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`),process.exit(1)),t.clean&&await Z("forge clean",t.projectPath),await Z("forge build --extra-output metadata",t.projectPath);let n=(await Z("forge config --json",t.projectPath)).stdout,i=JSON.parse(n),o=(0,Mt.join)(t.projectPath,i.out),a=[],s=[];ce(o,/^.*(?<!metadata)\.json$/,s);for(let l=0;l<s.length;l++){let c=s[l],f=(0,Mt.basename)(c,".json"),u=(0,It.readFileSync)(c,"utf-8"),p=JSON.parse(u);if(!p.bytecode||!p.deployedBytecode||!p.metadata){y.debug("Skipping",f,"(no bytecode or metadata)");continue}let h=p.metadata.settings.compilationTarget;if(Object.keys(h).length===0||Object.keys(h)[0].includes("@")||this.isTestOrScript(Object.keys(h)[0])){y.debug("Skipping",f,"(not a source target)");continue}if(f.startsWith("std")){y.debug("Skipping",f,"(std library contract)");continue}let g=p.bytecode.object,m=p.deployedBytecode.object,x=p.metadata,w=p.rawMetadata||this.sanitizeParsedMetadata(x,p.abi),v=Object.keys(x.sources).map(T=>{if(T.startsWith("/")&&(0,It.existsSync)(T))return T;let $=(0,Mt.join)(t.projectPath,T);if((0,It.existsSync)($))return $;let A=(0,Mt.join)(t.projectPath,"node_modules",T);if((0,It.existsSync)(A))return A}).filter(T=>T!==void 0),S=Object.keys(x?.settings?.compilationTarget||{}),R=S.length>0?S[0]:"";this.shouldProcessContract(p.abi,m,f)&&a.push({name:f,metadata:w,bytecode:g,fileName:R,sources:v})}return{contracts:a}}isTestOrScript(t){return t.endsWith(".s.sol")||t.endsWith(".t.sol")}sort(t){if(typeof t!="object"||t instanceof Array)return t;let r=Object.keys(t);r.sort();let n={};for(let i=0;i<r.length;i++)n[r[i]]=this.sort(t[r[i]]);return n}sanitizeParsedMetadata(t,r){t.output.abi=r,t.settings.libraries||(t.settings.libraries={}),t.settings.evmVersion||(t.settings.evmVersion="london"),delete t.settings.outputSelection;let n=this.sort(t);return JSON.stringify(n)}};var Lt=require("fs"),Ve=require("path"),oi=class extends me{async compile(t){let r=(0,Ve.resolve)(__dirname,"../helpers/hardhat-config-extractor.js"),n=(await Z(`npx hardhat run "${r}" --no-compile`,t.projectPath)).stdout,i=JSON.parse(n.split("__tw__")[1]);y.debug("successfully extracted hardhat config",i),await Z("npx hardhat clean",t.projectPath);let o=!1;if(t.zksync){let g=Object.entries(i.networks).find(m=>m[1].zksync);o=(g?.[1]).zksync,await Z(`npx hardhat compile --network ${g?.[0]}`,t.projectPath)}else await Z("npx hardhat compile",t.projectPath);let a=i.solidity.compilers;if(a)for(let g of a){let m=g.settings?.metadata?.bytecodeHash;if(m&&m!=="ipfs")throw new Error(`Deploying requires "bytecodeHash: 'ipfs'" in your hardhat.config.js file, but it's currently set as "bytecodeHash: '${m}'". Please change it to 'ipfs' and try again.`)}let s=i.paths.artifacts,l=i.paths.sources.replace(t.projectPath,""),c=(0,Ve.join)(s,l),f=[];ce(c,/^.*(?<!dbg)\.json$/,[]);let p=(0,Ve.join)(s,"build-info"),h=[];ce(p,/^.*(?<!dbg)\.json$/,h);for(let g of h){let m=(0,Lt.readFileSync)(g,"utf-8"),w=JSON.parse(m).output.contracts;for(let[v,S]of Object.entries(w)){if(v.includes("@")){y.debug("Skipping",v,"(not a source target)");continue}for(let[R,T]of Object.entries(S)){let $=T;if(!$.evm||!$.evm.bytecode||!$.evm.bytecode.object||!$.metadata||!$.abi){y.debug("Skipping",v,"(no bytecode or metadata)");continue}let A=$.evm.bytecode.object,G=$.evm.deployedBytecode?.object||A,{metadata:oe,abi:re}=$,E=oe.solc_metadata?JSON.parse(oe.solc_metadata):JSON.parse(oe),he=Object.keys(E.sources).map(Jt=>{let wa=(0,Ve.join)(t.projectPath,Jt);if((0,Lt.existsSync)(wa))return wa;let xa=(0,Ve.join)(t.projectPath,l,Jt);if((0,Lt.existsSync)(xa))return xa;let _a=(0,Ve.join)(t.projectPath,"node_modules",Jt);if((0,Lt.existsSync)(_a))return _a}).filter(Jt=>Jt!==void 0),ve=Object.keys(E?.settings?.compilationTarget||{}),ep=ve.length>0?ve[0]:"";this.shouldProcessContract(re,G,R,o)&&f.push({metadata:JSON.stringify(E),bytecode:A,name:R,fileName:ep,sources:he})}}}return{contracts:f}}};var Y=require("fs"),Oe=require("path"),Rl=_(require("solc")),ai=class extends me{async compile(t){let r=[];ce(t.projectPath,/^.*\.sol$/,r);let n=r.reduce((c,f)=>{let u=(0,Y.readFileSync)(f,"utf-8");return c[(0,Oe.basename)(f)]={content:u},c},{}),i={language:"Solidity",sources:n,settings:{outputSelection:{"*":{"*":["*"]}},optimizer:{enabled:!0,runs:800}}},o=JSON.parse(Rl.default.compile(JSON.stringify(i),{import:c=>{let f=(0,Oe.join)(t.projectPath,"node_modules",c);return(0,Y.existsSync)(f)?{contents:(0,Y.readFileSync)(f,"utf-8")}:{error:"file not found"}}}));if(o.errors)throw y.error(o.errors),new Error("Error compiling Solidity files");let a=(0,Oe.join)(t.projectPath,"artifacts");(0,Y.existsSync)(a)&&(0,Y.rmSync)(a,{recursive:!0}),(0,Y.existsSync)(a)||(0,Y.mkdirSync)(a),Object.keys(o.contracts).filter(c=>c in n).forEach(c=>{let f=o.contracts[c],u=(0,Oe.join)(t.projectPath,"artifacts",c);(0,Y.existsSync)(u)||(0,Y.mkdirSync)(u);let p=Object.keys(f);for(let h of p){let g=f[h],m=(0,Oe.join)(u,h+".json");(0,Y.writeFileSync)(m,JSON.stringify(g,null,2))}});let s=[],l=[];ce(a,/^.*(?<!dbg)\.json$/,l);for(let c of l){y.debug("Processing:",c.replace(a,""));let f=(0,Oe.basename)(c,".json"),u=(0,Y.readFileSync)(c,"utf-8"),p=JSON.parse(u),h=p.evm.bytecode.object,g=p.evm.deployedBytecode.object,m=p.metadata,x=JSON.parse(m),w=x.output.abi,v=x.settings.compilationTarget;if(Object.keys(v).length===0||Object.keys(v)[0].includes("@")){y.debug("Skipping",f,"(not a source target)");continue}let S=Object.keys(x.sources).map($=>{let A=r.find(oe=>oe.includes($));if(A&&(0,Y.existsSync)(A))return A;let G=(0,Oe.join)(t.projectPath,"node_modules",$);if((0,Y.existsSync)(G))return G}).filter($=>$!==void 0),R=Object.keys(x?.settings?.compilationTarget||{}),T=R.length>0?R[0]:"";this.shouldProcessContract(w,g,f)&&s.push({metadata:m,bytecode:h,name:f,fileName:T,sources:S})}return{contracts:s}}};var He=require("fs"),mr=require("path"),si=class extends me{async compile(t){let r=require((0,mr.join)(t.projectPath,"truffle-config.js")),n=(0,mr.join)(t.projectPath,r.contracts_build_directory||"./build/contracts");(0,He.existsSync)(n)&&(0,He.rmSync)(n,{recursive:!0}),await Z("npx --yes truffle compile",t.projectPath);let i=[],o=[];ce(n,/^.*(?<!dbg)\.json$/,o);for(let a of o){y.debug("Processing:",a.replace(n,""));let s=(0,He.readFileSync)(a,"utf-8"),l=JSON.parse(s),{contractName:c,metadata:f,bytecode:u,deployedBytecode:p}=l,h=JSON.parse(f),g=h.output.abi,m=h.settings.compilationTarget;if(Object.keys(m).length===0||Object.keys(m)[0].includes("@")){y.debug("Skipping",c,"(not a source target)");continue}let x=Object.keys(h.sources).map(S=>{S=S.replace("project:/","");let R=(0,mr.join)(t.projectPath,S);if((0,He.existsSync)(R))return R;let T=(0,mr.join)(t.projectPath,"node_modules",S);if((0,He.existsSync)(T))return T}).filter(S=>S!==void 0),w=Object.keys(h?.settings?.compilationTarget||{}),v=w.length>0?w[0]:"";this.shouldProcessContract(g,p,c)&&i.push({metadata:f,bytecode:u,name:c,fileName:v,sources:x})}return{contracts:i}}};async function st(e,t,r){let n;switch(t){case"hardhat":{n=new oi;break}case"foundry":{n=new ii;break}case"truffle":{n=new si;break}case"brownie":{n=new ri;break}default:{n=new ai;break}}return await n.compile({name:"",projectPath:e,clean:r.clean,zksync:r.zksync})}var _e={typeOfProject:"What type of project do you want to create?",projectName:"What is your project named?",contractName:"What will be the name of your new smart contract?",extensionName:"What will be the name of your new extension?",framework:"What framework do you want to use?",language:"What language do you want to use?",contract:"What type of contract do you want to start from?",extensions:"What extensions do you want to add to your contract?",reactNative:"What type of React Native project do you want to create?"},Dl={chains:"What chains are you using in your project?"},Fl={noConfiguration:"No contract project configuration file found in current directory"};var jl=require("fs"),hr=class{constructor(){this.projectType="foundry"}matches(t){return(0,jl.existsSync)(t+"/foundry.toml")}};var Uo=require("fs"),gr=class{constructor(){this.projectType="hardhat"}matches(t){return(0,Uo.existsSync)(t+"/hardhat.config.js")||(0,Uo.existsSync)(t+"/hardhat.config.ts")}};var $l=require("fs"),yr=class{constructor(){this.projectType="truffle"}matches(t){return(0,$l.existsSync)(t+"/truffle-config.js")}};var ci=require("fs"),Al=_(require("inquirer")),Ol=require("path"),{Confirm:vm}=require("enquirer");async function ct(e,t){let n=[new gr,new hr,new yr].filter(o=>o.matches(e)).map(o=>o.projectType);if(!n.length)return Sm(e)?(wc(`${Fl.noConfiguration} ${e}`),await new vm({name:"continue",message:"Do you want to continue and compile this project with solc instead?",initial:!0}).run()||(y.warn("Aborted contract compilation"),process.exit(1)),"solc"):"none";if(n.length===1)return M(`Detected project type: ${n[0]}`),n[0];M(`Detected multiple possible build tools: ${n.map(o=>`"${o}"`).join(", ")}`);let i="How would you like to compile your contracts";return t.ci?n[0]:(await Al.default.prompt({type:"list",choices:n,name:i}))[i]}function Sm(e){return["","/contracts"].filter(t=>{let r=e+t;return(0,ci.existsSync)(r)?(0,ci.readdirSync)(r).filter(o=>{let{ext:a}=(0,Ol.parse)(o);return a===".sol"}).length>0:!1}).length>0}var Il=_(require("prompts")),{MultiSelect:km}=require("enquirer");function Nt(e,t){return new km({name:"value",message:t,hint:"Use <space> to select, <return> to submit",choices:e,result(r){return this.map(r)},onSubmit(){this.selected.length===0&&this.enable(this.focused)},indicator(r,n){return n.enabled?this.styles.primary(this.symbols.hexagon.on):this.symbols.hexagon.off},styles:{primary:d.blueBright,get em(){return this.primary}}})}async function Ml(e,t){return await(0,Il.default)({type:"select",name:"routerType",message:t,choices:e})}var qo=require("child_process");function Bt(){try{let e=process.env.npm_config_user_agent;if(e){if(e.startsWith("yarn"))return"yarn";if(e.startsWith("pnpm"))return"pnpm"}try{return(0,qo.execSync)("yarn --version",{stdio:"ignore"}),"yarn"}catch{return(0,qo.execSync)("pnpm --version",{stdio:"ignore"}),"pnpm"}}catch{return"npm"}}var Ll=require("@thirdweb-dev/sdk");var li=require("fs");var Nl=_(require("path"));async function Bl(e){y.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Nl.default.resolve(`${t}/${e.path}`)),y.debug("Processing project at path "+t);let r=await ct(t,e),n,i=ne("Compiling project...");try{n=await st(t,r,e)}catch(s){i.fail("Compilation failed"),y.error(s),process.exit(1)}i.succeed("Compilation successful");let o=[];if(n.contracts.length===1)o=[n.contracts[0]];else if(e.all)o=n.contracts;else{let s=n.contracts.map(f=>({name:f.name,value:f})),c=await Nt(s,"Choose which contracts to run detection on").run();o=Object.keys(c).map(f=>c[f])}o.map(s=>{let l=JSON.parse(s.metadata).output.abi,c=Ul((0,Ll.detectFeatures)(l)),f=c.enabledFeatures.map(p=>({name:p.name,reference:`https://portal.thirdweb.com/interfaces/${p.name.toLowerCase()}`})),u=c.suggestedFeatures.map(p=>({name:p.name,reference:`https://portal.thirdweb.com/interfaces/${p.name.toLowerCase()}`}));return{name:s.name,enabledFeatures:f,suggestedFeatures:u}}).map(s=>{y.info(`
`),s.enabledFeatures.length===0?F(`No extensions detected on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(F(`Detected extension on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),s.enabledFeatures.map(c=>{y.info(`\u2714\uFE0F ${d.green(c.name)}`)})),y.info(""),F("Suggested extensions").info(),s.suggestedFeatures.map(c=>{y.info(`${d.dim(d.gray("-"))} ${d.gray(c.name)} - ${d.dim(d.gray(c.reference))}`)});let l="npx thirdweb@latest deploy";if((0,li.existsSync)(t+"/package.json")){let c=Bt(),f=c==="yarn";JSON.parse((0,li.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===l&&(l=`${c}${f?"":" run"} deploy`)}y.info(""),F("Once you're done writing your contracts, you can run the following command to deploy them:").info(),y.info(""),y.info(`     ${d.cyan(l)}`),y.info("")})}function Ul(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||ti.includes(o.name))&&r.push(o),Ul(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var wr=require("@thirdweb-dev/storage");var br=require("ethers"),xr=require("fs");var Gl=_(require("path"));var ql="0x0000000000000000000000000000000000000000",Wo={upgradeable:{name:"RouterUpgradeableFactory",metadataUri:"ipfs://QmdqXhoJg9RfDDURHxtHKDprh3VvyWEwZWVtQvnvXMannF",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/1"},"non-upgradeable":{name:"RouterImmutableFactory",metadataUri:"ipfs://QmPMmcxK7RwQfcRwS8kmFU2hLWRLWpgcsESeXeFHM8W3Wp",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/0"},"thirdweb-router":{name:"TWRouterFactory",metadataUri:"ipfs://QmbrV9NUBZAXqoSHpdTzxsZjtubdqumgt6WTMLV8RW3tkV",bytecodeUri:"ipfs://QmYjMfB1uhnnsdz6qmmc3bBAv8jmnniCkjXpDU6jGN8H5s/1"}};var Go="https://thirdweb.com",Jo=Wl(),Ut=Jo.version;async function fi(e,t,r){let n;r?n=new wr.ThirdwebStorage({secretKey:r}):n=new wr.ThirdwebStorage,y.setSettings({minLevel:e.debug?"debug":"info"});let i=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),i=e.path.startsWith("/")?e.path:Gl.default.resolve(`${i}/${e.path}`)),y.debug("Processing project at path "+i);let o=e.zksync?"hardhat":await ct(i,e);if(o==="none"){if(t==="deploy")return M("No contracts detected in this directory. Redirecting to the thirdweb contract explore page."),"https://thirdweb.com/explore";ur("No detected contracts in this directory."),y.info(""),F("Detected contract files must end with the '.sol' extension and exist in this directory or the '/contracts' subdirectory").info(),y.info(""),F("To create a new contracts project, run the following command:").info(),y.info(""),y.info(`     ${d.cyan("npx thirdweb@latest create --contract")}`),y.info(""),process.exit(1)}if(e.ci){y.info("Installing dependencies...");try{switch(o){case"foundry":{await Z("npm install",i),await Z("forge install",i);break}default:{await Z("npm install",i);break}}}catch(h){y.warn("Could not install dependencies",h)}}let a,s=ne("Compiling project...");try{a=await st(i,o,e)}catch(h){s.fail("Compilation failed"),y.error(h),process.exit(1)}s.succeed("Compilation successful"),a.contracts.length===0&&(y.error("No deployable contract detected. Run with the '--debug' option to see what contracts were skipped and why."),process.exit(1));let l={name:"",metadataUri:"",bytecodeUri:""};if(e.dynamic){let h=Object.keys(Wo).map(x=>({title:x,value:x})),g="",m=await Ml(h,"Choose a router to deploy");typeof m.routerType=="string"&&(g=m.routerType.trim()),l=Wo[g]}e.dynamic&&!l&&(ur("No router selected. Please select a router contract to deploy."),process.exit(1)),e.dynamic&&!l.name&&(ur("No router selected. Please select a router contract to deploy."),process.exit(1));let c=[];if(a.contracts.length===1)c=[a.contracts[0]],M(`Processing contract: ${d.blueBright(c.map(h=>`"${h.name}"`).join(", "))}`);else if(e.ci)c=a.contracts;else{let h=a.contracts.filter(w=>typeof e.file=="string"&&e.file.length>0?w.fileName.includes(e.file):!0).filter(w=>typeof e.contractName=="string"&&e.contractName.length>0?w.name.includes(e.contractName):!0);h.length===0&&(y.error("No contracts found matching the specified filters."),process.exit(1));let g=h.map(w=>a.contracts.filter(v=>v.name===w.name).length>1?{name:`${w.name} - ${d.gray(w.fileName)}`,value:w}:{name:w.name,value:w}),x=await Nt(g,e.dynamic?"Choose which extensions to add to your contract":`Choose which contract(s) to ${t}`).run();c=Object.keys(x).map(w=>x[w])}c.length===0&&(ur(`No contract selected. Please select at least one contract to ${t}.`),process.exit(1)),e.dryRun&&(M("Dry run, skipping deployment"),process.exit(0));let f="@thirdweb-dev/contracts",u=!1;if(e.dynamic)if(l.name==="thirdweb-router"){let h={extensionRegistry:ql,extensionNames:c.map(m=>m.name)},g=JSON.stringify(h,void 0,2);(0,xr.writeFileSync)("./deployArgs.json",g,"utf-8"),M("Deployment parameters written to deployArgs.json in your project directory")}else{let h=await Cm(c,r),g=JSON.stringify(h,void 0,2);(0,xr.writeFileSync)("./deployArgs.json",g,"utf-8"),M("Deployment parameters written to deployArgs.json in your project directory")}let p=ne("Uploading contract data...");try{for(let v=0;v<c.length;v++){let S=c[v];if(S.sources)for(let T=0;T<S.sources.length;T=T+3){let $=S.sources.slice(T,T+3);y.debug(`Uploading Sources:
${$.join(`
`)}
`),await Promise.all($.map(async A=>{let G=(0,xr.readFileSync)(A,"utf-8");return G.includes(f)&&(u=!0),await n.upload(G,{uploadWithoutDirectory:!0})}))}}let h=await Promise.all(c.map(async v=>(y.debug(`Uploading ${v.name}...`),await n.upload(JSON.parse(JSON.stringify(v.metadata)),{uploadWithoutDirectory:!0})))),g=c.map(v=>v.bytecode),m=await n.uploadBatch(g),x=[];if(e.dynamic){let v={command:t,contract_name:l.name,cli_version:Ut,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:u};x.push({name:l.name,metadataUri:l.metadataUri,bytecodeUri:l.bytecodeUri,analytics:v})}else x=c.map((v,S)=>{let R={command:t,contract_name:v.name,cli_version:Ut,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:u};return{name:v.name,metadataUri:h[S],bytecodeUri:m[S],analytics:R}});let w=[];if(x.length===1){let v=await n.upload(x[0],{uploadWithoutDirectory:!0});w.push(v)}else w=await n.uploadBatch(x);return p.succeed("Upload successful"),Tm(w,t)}catch(h){throw p.fail("Error uploading metadata"),new Error(h.message?h.message:h)}}function Tm(e,t){let r;if(e.length===1)r=new URL(Go+`/contracts/${t}/`+encodeURIComponent(e[0].replace("ipfs://","")));else{r=new URL(Go+"/contracts/"+t);for(let n of e)r.searchParams.append("ipfs",n.replace("ipfs://",""))}return r}async function Cm(e,t){let r;t?r=new wr.ThirdwebStorage({secretKey:t}):r=new wr.ThirdwebStorage;let n=[],i=[];for(let o of e){let a={name:o.name,metadataURI:await Pm(o,r),implementation:br.ethers.constants.AddressZero},s=JSON.parse(o.metadata).output.abi,l=new br.ethers.utils.Interface(s),c=[],f=l.functions;for(let u of Object.keys(f))c.push({functionSelector:l.getSighash(f[u]),functionSignature:u});n.push({metadata:a,functions:c}),i.push({name:o.name,amount:0,salt:br.ethers.utils.keccak256(br.ethers.utils.toUtf8Bytes(o.name)),bytecode:o.bytecode})}return{extensions:n,extensionDeployArgs:i}}async function Pm(e,t){return await t.upload(JSON.parse(JSON.stringify(e.metadata)),{uploadWithoutDirectory:!0})}var Ql=_(require("inquirer"));var Jl=require("fs"),_r=class{constructor(){this.packageManagerType="npm"}matches(t){return(0,Jl.existsSync)(t+"/package-lock.json")}};var Vl=require("fs"),vr=class{constructor(){this.packageManagerType="yarn"}matches(t){return(0,Vl.existsSync)(t+"/yarn.lock")}};var Hl=require("fs"),Sr=class{constructor(){this.packageManagerType="pnpm"}matches(t){return["/pnpm-lock.yaml","/pnpm-workspace.yaml","/.pnpm"].some(n=>(0,Hl.existsSync)(t+n))}};var zl=require("fs"),kr=class{constructor(){this.packageManagerType="pip"}matches(t){return(0,zl.existsSync)(t+"/requirements.txt")}};var Yl=require("fs"),Er=class{constructor(){this.packageManagerType="pipenv"}matches(t){return["/Pipfile","/Pipfile.lock"].some(n=>(0,Yl.existsSync)(t+n))}};var Xl=require("fs"),Tr=class{constructor(){this.packageManagerType="poetry"}matches(t){return["/pyproject.toml","/poetry.lock"].some(n=>(0,Xl.existsSync)(t+n))}};var Vo=require("fs"),Cr=class{constructor(){this.packageManagerType="brownie"}matches(t){let n=["/brownie-config.yaml","/brownie-config.json"].some(a=>(0,Vo.existsSync)(t+a)),o=["/build","/contracts","/reports"].every(a=>(0,Vo.existsSync)(t+a));return n||o||!1}};var Kl=require("fs"),Pr=class{constructor(){this.packageManagerType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,Kl.existsSync)(t+i))||!1}};var Zl=require("fs"),Rr=class{constructor(){this.packageManagerType="go-modules"}matches(t){return(0,Zl.existsSync)(t+"/go.mod")}};async function lt(e,t){let n=[new _r,new vr,new Sr,new kr,new Er,new Tr,new Rr,new Cr,new Pr].filter(o=>o.matches(e)).map(o=>o.packageManagerType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("brownie")&&n.includes("pip"))return"brownie";M(`Detected multiple possible package managers: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible package managers, which one do you want to use?";return t.ci?n[0]:(await Ql.default.prompt({type:"list",choices:n,name:i}))[i]}var af=_(require("inquirer"));var Ho=require("fs");var Dr=class{constructor(){this.frameworkType="brownie"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=["/brownie-config.yaml","/brownie-config.json"].some(c=>(0,Ho.existsSync)(t+c)),l=["/build","/contracts","/reports"].every(c=>(0,Ho.existsSync)(t+c));return!!n.find(c=>c.includes("brownie"))||!!i.find(c=>c.includes("brownie"))||a||l||!1}};var pi=require("fs");var Fr=class{constructor(){this.frameworkType="cra"}matches(t){let r=t+"/package.json";if(!(0,pi.existsSync)(r))return!1;let n=(0,pi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return!!i["react-scripts"]||!!o["react-scripts"]||!1}};var ef=require("fs");var jr=class{constructor(){this.frameworkType="django"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=["/manage.py"].some(s=>(0,ef.existsSync)(t+s));return!!n.find(s=>s.includes("Django"))||!!i.find(s=>s.includes("Django"))||a||!1}};var ft=require("fs");var $r=class{constructor(){this.frameworkType="echo"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,ft.existsSync)(r)&&!(0,ft.existsSync)(n))return!1;if((0,ft.existsSync)(r)){let s=(0,ft.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/labstack/echo"].some(f=>l.some(u=>u.name===f))}let o=(0,ft.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/labstack/echo");return i||a||!1}};var Ar=require("fs");var Or=class{constructor(){this.frameworkType="expo"}matches(t){let r=t+"/package.json";if(!(0,Ar.existsSync)(r))return!1;let n=(0,Ar.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/app.json","/app.config.js"].some(c=>(0,Ar.existsSync)(t+c));return!!i.expo||!!o.expo||s||!1}};var tf=require("fs");var Ir=class{constructor(){this.frameworkType="fastapi"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=[].some(s=>(0,tf.existsSync)(t+s));return!!n.find(s=>s.includes("fastapi"))||!!i.find(s=>s.includes("fastapi"))||a||!1}};var Mr=require("fs");var Lr=class{constructor(){this.frameworkType="fastify"}matches(t){let r=t+"/package.json";if(!(0,Mr.existsSync)(r))return!1;let n=(0,Mr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=[].some(c=>(0,Mr.existsSync)(t+c));return!!i.fastify||!!o.fastify||s||!1}};var pt=require("fs");var Nr=class{constructor(){this.frameworkType="fiber"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,pt.existsSync)(r)&&!(0,pt.existsSync)(n))return!1;if((0,pt.existsSync)(r)){let s=(0,pt.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/gofiber/fiber"].some(f=>l.some(u=>u.name===f))}let o=(0,pt.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/gofiber/fiber");return i||a||!1}};var rf=require("fs");var Br=class{constructor(){this.frameworkType="flask"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=[].some(s=>(0,rf.existsSync)(t+s));return!!n.find(s=>s.includes("Flask"))||!!i.find(s=>s.includes("Flask"))||a||!1}};var nf=require("fs"),Ur=class{constructor(){this.frameworkType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,nf.existsSync)(t+i))||!1}};var qr=require("fs");var Wr=class{constructor(){this.frameworkType="gatsby"}matches(t){let r=t+"/package.json";if(!(0,qr.existsSync)(r))return!1;let n=(0,qr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/gatsby.config.js","/gatsby-config.ts"].some(c=>(0,qr.existsSync)(t+c));return!!i.gatsby||!!o.gatsby||s||!1}};var ut=require("fs");var Gr=class{constructor(){this.frameworkType="gin"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,ut.existsSync)(r)&&!(0,ut.existsSync)(n))return!1;if((0,ut.existsSync)(r)){let s=(0,ut.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/gin-gonic/gin"].some(f=>l.some(u=>u.name===f))}let o=(0,ut.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/gin-gonic/gin");return i||a||!1}};var Jr=require("fs");var Vr=class{constructor(){this.frameworkType="hardhat"}matches(t){let r=t+"/package.json";if(!(0,Jr.existsSync)(r))return!1;let n=(0,Jr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/hardhat.config.js"].some(c=>(0,Jr.existsSync)(t+c));return!!i.hardhat||!!o.hardhat||s||!1}};var Hr=require("fs");var zr=class{constructor(){this.frameworkType="next"}matches(t){let r=t+"/package.json";if(!(0,Hr.existsSync)(r))return!1;let n=(0,Hr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/next.config.js","/next-config.ts"].some(c=>(0,Hr.existsSync)(t+c));return!!i.next||!!o.next||s||!1}};var of=require("fs");var Yr=class{constructor(){this.frameworkType="populus"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=["/populus.json","/populus.yaml"].some(s=>(0,of.existsSync)(t+s));return!!n.find(s=>s==="populus")||!!i.find(s=>s==="populus")||a||!1}};var Xr=require("fs");var Kr=class{constructor(){this.frameworkType="react-native-cli"}matches(t){let r=t+"/package.json";if(!(0,Xr.existsSync)(r))return!1;let n=(0,Xr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=[].some(l=>(0,Xr.existsSync)(t+l));return!!i["react-native"]||!!o["react-native"]||s||!1}};var Zr=require("fs");var Qr=class{constructor(){this.frameworkType="remix"}matches(t){let r=t+"/package.json";if(!(0,Zr.existsSync)(r))return!1;let n=(0,Zr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/remix.config.js","/remix-config.ts"].some(c=>(0,Zr.existsSync)(t+c));return Object.keys(i).concat(Object.keys(o)).filter(c=>c.startsWith("@remix-run/")).length>0||s||!1}};var dt=require("fs");var en=class{constructor(){this.frameworkType="revel"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,dt.existsSync)(r)&&!(0,dt.existsSync)(n))return!1;if((0,dt.existsSync)(r)){let s=(0,dt.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/revel/revel"].some(f=>l.some(u=>u.name===f))}let o=(0,dt.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/revel/revel");return i||a||!1}};var tn=require("fs");var rn=class{constructor(){this.frameworkType="truffle"}matches(t){let r=t+"/package.json";if(!(0,tn.existsSync)(r))return!1;let n=(0,tn.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/truffle.config.js","/truffle.js"].some(l=>(0,tn.existsSync)(t+l));return!!i.truffle||!!o.truffle||s||!1}};var ui=require("fs");var nn=class{constructor(){this.frameworkType="vite"}matches(t){let r=t+"/package.json";if(!(0,ui.existsSync)(r))return!1;let n=(0,ui.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return!!i.vite||!!o.vite||!1}};var on=require("fs");var an=class{constructor(){this.frameworkType="vue"}matches(t){let r=t+"/package.json";if(!(0,on.existsSync)(r))return!1;let n=(0,on.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/vue.config.js"].some(l=>(0,on.existsSync)(t+l));return!!i.vue||!!o.vue||s||!1}};var di=require("fs"),sn=class{constructor(){this.frameworkType="zenject"}matches(t){let r=(0,di.existsSync)(t+"/Assets/Zenject"),n=(0,di.existsSync)(t+"/Assets/Zenject/OptionalExtras/Zenject.dll"),i=(0,di.existsSync)(t+"/Assets/Scripts/ProjectContext.cs");return r||n||i||!1}};async function mt(e,t,r){let i=[new Dr,new Fr,new jr,new $r,new Or,new Ir,new Lr,new Nr,new Br,new Ur,new Wr,new Gr,new Vr,new zr,new Yr,new Kr,new Qr,new en,new rn,new an,new nn,new sn].filter(a=>a.matches(e,r)).map(a=>a.frameworkType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("expo")&&i.includes("react-native-cli"))return"expo";M(`Detected multiple possible frameworks: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible frameworks which one do you want to use?";return t.ci?i[0]:(await af.default.prompt({type:"list",choices:i,name:o}))[o]}var sf=_(require("inquirer"));var mi=require("fs");var cn=class{constructor(){this.libraryType="express"}matches(t){let r=t+"/package.json";if(!(0,mi.existsSync)(r))return!1;let n=(0,mi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return i.express||o.express||!1}};var zo=require("fs"),ln=class{constructor(){this.libraryType="playmaker"}matches(t){let r=(0,zo.existsSync)(t+"/Assets/PlayMaker"),n=(0,zo.existsSync)(t+"/Editor/PlayMaker.dll");return r||n||!1}};var hi=require("fs");var fn=class{constructor(){this.libraryType="react"}matches(t){let r=t+"/package.json";if(!(0,hi.existsSync)(r))return!1;let n=(0,hi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return i.react||o.react||!1}};var gi=require("fs");var pn=class{constructor(){this.libraryType="react-native"}matches(t){let r=t+"/package.json";if(!(0,gi.existsSync)(r))return!1;let n=(0,gi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return i["react-native"]||o["react-native"]||!1}};var un=class{constructor(){this.libraryType="web3py"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r);return!!n.find(o=>o.includes("web3"))||!!i.find(o=>o.includes("web3"))||!1}};async function dn(e,t,r){let i=[new cn,new fn,new pn,new un,new ln].filter(a=>a.matches(e,r)).map(a=>a.libraryType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("react-native")&&i.includes("react"))return"react-native";M(`Detected multiple possible libraries: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible libraries which one do you want to use?";return t.ci?i[0]:(await sf.default.prompt({type:"list",choices:i,name:o}))[o]}var uf=_(require("inquirer"));var cf=require("fs"),mn=class{constructor(){this.languageType="javascript"}matches(t){let r=/\.js$/;return(0,cf.readdirSync)(t).some(i=>i.match(r))}};var lf=require("fs"),hn=class{constructor(){this.languageType="typescript"}matches(t){let r=/\.ts$/;return(0,lf.readdirSync)(t).some(i=>i.match(r))}};var ff=require("fs"),gn=class{constructor(){this.languageType="python"}matches(t){let r=/\.py$/;return(0,ff.readdirSync)(t).some(i=>i.match(r))}};var pf=require("fs"),yn=class{constructor(){this.languageType="go"}matches(t){let r=/\.go$/;return(0,pf.readdirSync)(t).some(i=>i.match(r))}};async function Yo(e,t){let n=[new mn,new hn,new gn,new yn].filter(o=>o.matches(e)).map(o=>o.languageType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("typescript")&&n.includes("javascript"))return"typescript";M(`Detected multiple possible languages: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible languages which one do you want to use?";return t.ci?n[0]:(await uf.default.prompt({type:"list",choices:n,name:i}))[i]}var df=_(require("path"));var yi=["brownie","foundry","hardhat","truffle","solc","none"];var mf=require("@thirdweb-dev/sdk");var bi=require("fs");async function hf(e){y.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:df.default.resolve(`${t}/${e.path}`)),y.debug("Processing project at path "+t);let r=await lt(t,e),n=await Yo(t,e),i=await dn(t,e,r),o=await mt(t,e,r),a=o!=="none"&&yi.includes(o)?"contract":"app",s=a==="contract"?o:"none";if(y.info("Detected package manager: "+r),y.info("Detected library: "+i),y.info("Detected language: "+n),y.info("Detected framework: "+o),y.info("Detected app type: "+a),a==="contract"){let l,c=ne("Compiling project...");try{l=await st(t,s,e)}catch(p){c.fail("Compilation failed"),y.error(p),process.exit(1)}c.succeed("Compilation successful");let f=[];if(l.contracts.length===1)f=[l.contracts[0]];else if(e.all)f=l.contracts;else{let p=l.contracts.map(m=>({name:m.name,value:m})),g=await Nt(p,"Choose which contracts to run detection on").run();f=Object.keys(g).map(m=>g[m])}f.map(p=>{let h=JSON.parse(p.metadata).output.abi,g=gf((0,mf.detectFeatures)(h)),m=g.enabledFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`})),x=g.suggestedFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`}));return{name:p.name,enabledFeatures:m,suggestedFeatures:x}}).map(p=>{y.info(`
`),p.enabledFeatures.length===0?F(`No extensions detected on ${d.blueBright(p.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(F(`Detected extension on ${d.blueBright(p.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),p.enabledFeatures.map(g=>{y.info(`\u2714\uFE0F ${d.green(g.name)}`)})),y.info(""),F("Suggested extensions").info(),p.suggestedFeatures.map(g=>{y.info(`${d.dim(d.gray("-"))} ${d.gray(g.name)} - ${d.dim(d.gray(g.reference))}`)});let h="npx thirdweb@latest deploy";if((0,bi.existsSync)(t+"/package.json")){let g=Bt(),m=g==="yarn";JSON.parse((0,bi.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===h&&(h=`${g}${m?"":" run"} deploy`)}y.info(""),F("Once you're done writing your contracts, you can run the following command to deploy them:").info(),y.info(""),y.info(`     ${d.cyan(h)}`),y.info("")})}}function gf(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||ti.includes(o.name))&&r.push(o),gf(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var yf="2.7.6";function bf(){return new Promise(async(e,t)=>{try{await V("ruby",["-v"],!1,r=>{let i=String(r).split(" ")[1];i.includes(yf)?e():(console.log(),console.error(`Your current ruby version: ${d.red(`"${i}"`)}, is not supported by this project.`),console.error(`Please, set your ruby version to ${d.green(`"${yf}"`)} and try again.`),console.error("For more information, please visit the React Native documentation: https://reactnative.dev/docs/environment-setup#ruby"),console.log(),process.exit(1))})}catch(r){t(r)}})}var wf=_(require("got")),xf=async e=>{try{return(await wf.default.get(`https://raw.githubusercontent.com/thirdweb-example/${e}/main/package.json`).json())?.scripts?.dev?"dev":"start"}catch{return}};var ze=require("child_process"),_f=_(require("path")),vf=_(require("rimraf"));function Rm(){try{return(0,ze.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"}),!0}catch{}return!1}function Dm(){try{return(0,ze.execSync)("hg --cwd . root",{stdio:"ignore"}),!0}catch{}return!1}function wi(e){let t=!1;try{return(0,ze.execSync)("git --version",{stdio:"ignore"}),Rm()||Dm()?!1:((0,ze.execSync)("git init",{stdio:"ignore"}),t=!0,(0,ze.execSync)("git checkout -b main",{stdio:"ignore"}),(0,ze.execSync)("git add -A",{stdio:"ignore"}),(0,ze.execSync)('git commit -m "Initial commit from npx thirdweb create"',{stdio:"ignore"}),!0)}catch{if(t)try{vf.default.sync(_f.default.join(e,".git"))}catch{}return!1}}var Sf=_(Mo());function bn(e,t,{packageManager:r,isOnline:n,devDependencies:i}){let o=[],a=[];return new Promise((s,l)=>{let c,f=r,u=r==="yarn";t&&t.length?u?(c=["add","--exact"],n||c.push("--offline"),c.push("--cwd",e),i&&c.push("--dev"),c.push(...t)):(c=["install","--save-exact"],c.push(i?"--save-dev":"--save"),c.push(...t)):(c=["install"],n||(console.log(d.yellow("You appear to be offline.")),u?(console.log(d.yellow("Falling back to the local Yarn cache.")),console.log(),c.push("--offline")):console.log())),u?c.push(...a):c.push(...o),(0,Sf.default)(f,c,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1"}}).on("close",h=>{if(h!==0){l({command:`${f} ${c.join(" ")}`});return}s()})})}var Xo=_(require("fs")),kf=_(require("path"));function xi(e,t){let r=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log"],n=Xo.default.readdirSync(e).filter(i=>!r.includes(i)).filter(i=>!/\.iml$/.test(i));if(n.length>0){console.log(`The directory ${d.green(t)} contains files that could conflict:`),console.log();for(let i of n)try{Xo.default.lstatSync(kf.default.join(e,i)).isDirectory()?console.log(`  ${d.blue(i)}/`):console.log(`  ${i}`)}catch{console.log(`  ${i}`)}return console.log(),console.log("Either try using a new directory name, or remove the files listed above."),console.log(),!1}return!0}var Ef=require("child_process"),Ko=_(require("dns")),Tf=_(require("url"));function Fm(){if(process.env.https_proxy)return process.env.https_proxy;try{let e=(0,Ef.execSync)("npm config get https-proxy").toString().trim();return e!=="null"?e:void 0}catch{return}}function _i(){return new Promise(e=>{Ko.default.lookup("registry.yarnpkg.com",t=>{if(!t)return e(!0);let r=Fm();if(!r)return e(!1);let{hostname:n}=Tf.default.parse(r);if(!n)return e(!1);Ko.default.lookup(n,i=>{e(i===null)})})})}var vi=_(require("fs"));async function Si(e){try{return await vi.default.promises.access(e,(vi.default.constants||vi.default).W_OK),!0}catch{return!1}}var Cf=_(require("fs"));function ki(e,t={recursive:!0}){return Cf.default.promises.mkdir(e,t)}var Pf=_(require("path"));function Rf(e,t){return new Promise(async(r,n)=>{t||(console.log(d.yellow("You appear to be offline.")),console.log(),n());try{await V("bundle",["install"],!0)}catch(i){n(i)}console.log("Running pod install...");try{process.chdir(Pf.default.join(e,"ios")),await V("pod",["install"],!0),process.chdir(e),r()}catch(i){process.chdir(e),n(i)}})}var Zo=_(require("got")),Df=require("stream"),Ff=_(require("tar")),jf=require("util"),jm=(0,jf.promisify)(Df.Stream.pipeline);async function $m(e){return(await Zo.default.head(e).catch(r=>r)).statusCode===200}function Qo(e){return $m(`https://api.github.com/repos/thirdweb-example/${encodeURIComponent(e)}`)}function wn(e,{name:t,filePath:r}){return jm(Zo.default.stream(`https://codeload.github.com/thirdweb-example/${t}/tar.gz/main`),Ff.default.extract({cwd:e,strip:r?r.split("/").length+1:1},[`${t}-main${r?`/${r}`:""}`]))}var ea=_(require("async-retry"));var xn=_(require("fs")),ta=_(require("os")),ht=_(require("path")),Ye=class extends Error{};async function $f({appPath:e,packageManager:t,framework:r,language:n,template:i}){let o="";i?await Qo(i)||(console.error(`Could not locate the repository for ${d.red(`"${i}"`)}. Please check that the repository exists and try again.`),process.exit(1)):r&&(o=`${r}-${n||"javascript"}-starter`,await Qo(o)||(console.error(`Something went wrong with the ${d.red(`"${r}"`)} framework. Please try again.`),process.exit(1)));let a=i?.includes("react-native")||r==="react-native";function s(){return a&&(n==="typescript"||i&&!i.includes("expo"))}function l(){return process.platform==="darwin"}s()&&l()&&await bf();let c=ht.default.resolve(e);await Si(ht.default.dirname(c))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1));let f=ht.default.basename(c);await ki(c),xi(c,f)||process.exit(1);let u=t==="yarn",p=!u||await _i(),h=process.cwd();console.log(`Creating a new thirdweb app in ${d.green(c)}.`),console.log(),process.chdir(c);function g(w){return typeof w=="object"&&w!==null&&typeof w.message=="string"}if(i){try{console.log(`Downloading files from repo ${d.cyan(i)}. This might take a moment.`),console.log(),await(0,ea.default)(()=>wn(c,{name:i,filePath:""}),{retries:3})}catch(S){throw new Ye(g(S)?S.message:String(S))}let w=ht.default.join(c,"package.json"),v=xn.default.readFileSync(w);try{let S=JSON.parse(v.toString());S&&(S.name=f),xn.default.writeFileSync(w,JSON.stringify(S,null,2)+ta.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await bn(c,null,{packageManager:t,isOnline:p}),console.log()}else if(r){try{console.log(`Downloading files with framework ${d.cyan(r)}. This might take a moment.`),await(0,ea.default)(()=>wn(c,{name:o,filePath:""}),{retries:3})}catch(w){throw new Ye(g(w)?w.message:String(w))}try{let w=ht.default.join(c,"package.json"),v=xn.default.readFileSync(w),S=JSON.parse(v.toString());S&&(S.name=f),xn.default.writeFileSync(w,JSON.stringify(S,null,2)+ta.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await bn(c,null,{packageManager:t,isOnline:p}),console.log()}s()&&l()&&await Rf(c,p),wi(c)&&(console.log("Initialized a git repository."),console.log());let m;ht.default.join(h,f)===e?m=f:m=e;let x;r&&(r.includes("next")||r.includes("vite"))?x="dev":i&&(x=await xf(i)),console.log(`${d.green("Success!")} Created ${f} at ${e}`),console.log("Inside that directory, you can run several commands:"),console.log(),a?(console.log(d.cyan(`  ${t}${u||x==="start"?"":"run "} android`)),console.log("    Runs your app on an Android emulator or device."),console.log(),console.log(d.cyan(`  ${t}${u||x==="start"?"":"run "} ios`)),console.log("    Runs your app on an iOS emulator or device."),console.log()):x&&(console.log(d.cyan(`  ${t} ${u||x==="start"?"":"run "}${x}`)),console.log("    Starts the development server."),console.log(),console.log(d.cyan(`  ${t} ${u||x==="start"?"":"run "}build`)),console.log("    Builds the app for production."),console.log()),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),m),x&&!a&&console.log(`  ${d.cyan(`${t} ${u||x==="start"?"":"run "}${x}`)}`),console.log()}var Am={ERC721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Base.sol";

contract Contract is ERC721Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC721Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,ERC721SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721SignatureMint.sol";

contract Contract is ERC721SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC721LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721LazyMint.sol";

contract Contract is ERC721LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721DelayedReveal.sol";

contract Contract is ERC721DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Drop.sol";

contract Contract is ERC721Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Base.sol";

contract Contract is ERC1155Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC1155Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,Staking721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking721Base.sol";

contract Contract is Staking721Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardsPerUnitTime,
        address _nftCollection,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking721Base(
            _defaultAdmin,
            _timeUnit,
            _rewardsPerUnitTime,
            _nftCollection,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC1155SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155SignatureMint.sol";

contract Contract is ERC1155SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155LazyMint.sol";

contract Contract is ERC1155LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155DelayedReveal.sol";

contract Contract is ERC1155DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Drop.sol";

contract Contract is ERC1155Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,Staking1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking1155Base.sol";

contract Contract is Staking1155Base {
      constructor(
        address _defaultAdmin,
        uint256 _defaultTimeUnit,
        uint256 _defaultRewardsPerUnitTime,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking1155Base(
            _defaultAdmin,
            _defaultTimeUnit,
            _defaultRewardsPerUnitTime,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Base.sol";

contract Contract is ERC20Base {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Base(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20Vote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Vote.sol";

contract Contract is ERC20Vote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Vote(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20SignatureMint:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMint.sol";

contract Contract is ERC20SignatureMint {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20SignatureMintVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMintVote.sol";

contract Contract is ERC20SignatureMintVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMintVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20Drop:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Drop.sol";

contract Contract is ERC20Drop {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20DropVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20DropVote.sol";

contract Contract is ERC20DropVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20DropVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,Staking20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking20Base.sol";

contract Contract is Staking20Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardRatioNumerator,
        uint256 _rewardRatioDenominator,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking20Base(
            _defaultAdmin,
            _timeUnit,
            _rewardRatioNumerator,
            _rewardRatioDenominator,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`},ra=Am;function Af(e){return ra[e]!==void 0}function na(e){return ra[e]}function ia(e){let t=Om(e).toUpperCase(),r=Im(e);return`// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

library ${e}Storage {
  bytes32 public constant ${t}_STORAGE_POSITION = keccak256("${r}.storage");

  // Define your contract's state inside the Data struct.
  struct Data {
    // Example: a uint called "number"
    uint256 number;
  }

  /**
    *  Access your state variables using the following pattern (example):
    *  ${e}Storage.Data storage data = ${e}Storage.getStorage();
  **/
  function getStorage() internal pure returns (Data storage data) {
    bytes32 position = ${t}_STORAGE_POSITION;
    assembly {
      data.slot := position
    }
  }
}
  
contract ${e} {

  function readContractState() external view returns (uint256) {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    return data.number;
  }

  function writeContractState(uint256 x) external {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    data.number = x;
  }
}`}function Of(e,t){return e.replace(/(.)([A-Z][a-z]+)/,`$1${t}$2`).replace(/([a-z0-9])([A-Z])/,`$1${t}$2`).toLowerCase()}function Om(e){return Of(e,"_")}function Im(e){return Of(e,".")}var qt=require("fs/promises");async function If(){await(0,qt.rm)("script",{recursive:!0,force:!0}),await(0,qt.rm)(".gitmodules",{recursive:!0,force:!0}),await(0,qt.rm)("lib",{recursive:!0,force:!0}),await(0,qt.writeFile)(".gitmodules",""),await V("git",["submodule","add","https://github.com/foundry-rs/forge-std.git","lib/forge-std"]),await V("git",["submodule","update","--init","--recursive"])}var Mf=_(require("async-retry"));var Wt=_(require("fs")),_n=require("fs/promises"),Q=_(require("path"));function Mm(e){return typeof e=="object"&&e!==null&&typeof e.message=="string"}async function Lf({contractPath:e,packageManager:t,framework:r,contractName:n,baseContract:i,onlyContract:o,createExtension:a}){i&&(Af(i)||(console.error(`Could not locate the base contract for ${d.red(`"${i}"`)}. Please check that the base contract exists and try again.`),process.exit(1)));let s=Q.default.resolve(e);await Si(Q.default.dirname(s))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1)),/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(n)||(console.error(`Contract name ${d.red(`"${n}"`)} is not valid (only alphanumeric characters are allowed).`),process.exit(1));let l=n.replace(/\.sol$/,"");n=l+".sol";let c=t==="yarn";if(o){if(Wt.default.existsSync(Q.default.join(s,n))&&(console.error(`A contract with the name ${d.red(`"${n}"`)} already exists in specified directory.`),process.exit(1)),i&&i.length>0){let f=na(i),u="";u=Q.default.join(s,n),await(0,_n.writeFile)(u,f),console.log(`${d.green("Success!")} Created ${n} at ${e}`)}if(!i&&a){let f=ia(l),u="";u=Q.default.join(s,n),await(0,_n.writeFile)(u,f),console.log(`${d.green("Success!")} Created your ${n} extension at ${e}`)}}else{let f=Q.default.basename(s);await ki(s),xi(s,f)||process.exit(1);let u=!c||await _i(),p=process.cwd();console.log(`Creating a new thirdweb contracts project in ${d.green(s)}.`),console.log(),process.chdir(s);try{console.log("Downloading files. This might take a moment.");let g="";if(r==="hardhat"?g="hardhat-javascript-starter":r==="forge"?g="forge-starter":(console.error("Please provide a valid contracts framework."),process.exit(1)),await(0,Mf.default)(()=>wn(s,{name:g,filePath:""}),{retries:3}),i&&i.length>0){let m=na(i).replace("contract Contract",`contract ${n.replace(".sol","")}`),x="";r==="hardhat"&&(Wt.default.unlinkSync(Q.default.join(s,"contracts","Contract.sol")),x=Q.default.join(s,"contracts",n)),r==="forge"&&(Wt.default.unlinkSync(Q.default.join(s,"src","Contract.sol")),x=Q.default.join(s,"src",n)),await(0,_n.writeFile)(x,m)}if(!i&&a){let m=ia(l),x="";x=Q.default.join(s,n),r==="hardhat"&&(Wt.default.unlinkSync(Q.default.join(s,"contracts","Contract.sol")),x=Q.default.join(s,"contracts",n)),r==="forge"&&(Wt.default.unlinkSync(Q.default.join(s,"src","Contract.sol")),x=Q.default.join(s,"src",n)),await(0,_n.writeFile)(x,m)}}catch(g){throw new Ye(Mm(g)?g.message:String(g))}console.log("Installing packages. This might take a couple of minutes."),console.log(),await bn(s,null,{packageManager:t,isOnline:u}),console.log(),wi(s)&&(console.log("Initialized a git repository."),console.log()),r==="forge"&&await If();let h;Q.default.join(p,f)===e?h=f:h=e,console.log(`${d.green("Success!")} Created ${f} at ${e}`),console.log(),console.log("Inside that directory, you can run several commands:"),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} build`)),console.log("    Compiles your contracts and detects thirdweb extensions implemented on them."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} deploy`)),console.log("    Deploys your contracts with the thirdweb deploy flow."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} publish`)),console.log("    Publishes your contracts with the thirdweb publish flow."),console.log(),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),h),console.log(),r==="forge"&&(await ni()||console.log(`
${d.yellowBright("warning")} You don't have forge installed on this machine, and will need it to run this project! 

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`))}}var Nf=_(require("validate-npm-package-name"));function oa(e){let t=(0,Nf.default)(e);return t.validForNewPackages?{valid:!0}:{valid:!1,problems:[...t.errors||[],...t.warnings||[]]}}var Gt=_(require("fs")),se=_(require("path")),De=_(require("prompts")),vn="",X="",j="",I="",te="",Ei="",aa="",sa=!1;async function Bf(e,t="",r){if(typeof t=="string"&&(X=t),typeof r.contractName=="string"&&(vn=r.contractName),e==="app"||r.app?j="app":e==="contract"||r.contract?j="contract":(e==="extension"||r.extension)&&(j="extension"),!j&&Object.keys(r).length>0&&(r.react&&(j="app",te="typescript",I="cra"),r.next&&(j="app",te="typescript",I="next"),r.vite&&(j="app",te="typescript",I="vite"),r.node&&(j="app",te="typescript",I="node"),r.express&&(j="app",te="typescript",I="express"),r.pwaVite&&(j="app",te="typescript",I="pwa-vite"),r.reactNative&&(j="app",te="typescript",I="react-native")),j==="app"&&(r.typescript&&(te="typescript"),r.javascript&&(te="javascript"),r.next&&(I="next"),r.react&&(I="cra"),r.vite&&(I="vite"),r.node&&(I="node"),r.express&&(I="express"),r.reactNative&&(I="react-native"),r.pwaVite&&(I="pwa-vite"),r.evm&&(aa="evm")),j==="contract"&&(r.forge&&(I="forge"),r.hardhat&&(I="hardhat")),r.framework&&(I=r.framework),!j&&!r.template){let c=await(0,De.default)({type:"select",name:"projectType",message:_e.typeOfProject,choices:[{title:"App",value:"app"},{title:"Contract",value:"contract"},{title:"Dynamic Contract Extension",value:"extension"}]});typeof c.projectType=="string"&&(j=c.projectType.trim())}else(!j||r.template)&&(j="app");j==="extension"&&(sa=!0,r.forge&&(I="forge"),r.hardhat&&(I="hardhat"));let n=!1;if(j==="contract"||j==="extension"){let c=se.default.resolve(X),f=await ct(c,{});if(f==="foundry"&&Gt.default.existsSync(se.default.join(c,"src")))n=!0,X=se.default.join(X,"src");else if(f==="hardhat")if(Gt.default.existsSync(se.default.join(c,"contracts")))n=!0,X=se.default.join(X,"contracts");else{let u=Gt.default.readdirSync(c).filter(p=>Gt.default.lstatSync(se.default.join(c,p)).isDirectory());for(let p of u)if(Gt.default.readdirSync(se.default.join(X,p)).some(g=>g.endsWith(".sol"))){n=!0,X=se.default.join(X,p);break}}}if(!n){if(!X){let c=j==="contract"||j==="extension"?"thirdweb-contracts":"thirdweb-app",f=await(0,De.default)({type:"text",name:"path",message:_e.projectName,initial:r.template||c,format:u=>u.toLowerCase(),validate:u=>{let p=oa(se.default.basename(se.default.resolve(u.toLowerCase())));return p.valid||"Invalid project name: "+p.problems?.[0]}});typeof f.path=="string"&&(X=se.default.join(X,f.path.trim()))}if(X||(console.log(`
Please specify the project directory:
  ${d.cyan("npx thirdweb create")} ${d.green("<project-directory>")}
For example:
  ${d.cyan("npx thirdweb create")} ${d.green("my-thirdweb-app")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1)),!r.template){if(j==="app"&&!aa&&(aa="evm"),j==="app"&&!I){let c=await(0,De.default)({type:"select",name:"framework",message:_e.framework,choices:[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Vite",value:"vite"},{title:"PWA Vite",value:"pwa-vite"},{title:"React Native",value:"react-native"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]});typeof c.framework=="string"&&(I=c.framework.trim())}if(j==="app"&&!te)if(I==="react-native"){let c=await(0,De.default)({type:"select",name:"project",message:_e.reactNative,choices:[{title:"Expo Project",value:"expo"},{title:"React Native CLI",value:"typescript"}]});typeof c.project=="string"&&(te=c.project.trim())}else if(I==="pwa-vite"||I==="pwa-next")te="typescript";else{let c=await(0,De.default)({type:"select",name:"language",message:_e.language,choices:[{title:"JavaScript",value:"javascript"},{title:"TypeScript",value:"typescript"}]});typeof c.language=="string"&&(te=c.language.trim())}if((j==="contract"||j==="extension")&&I!=="forge"&&I!=="hardhat"){let c=await(0,De.default)({type:"select",name:"framework",message:_e.framework,choices:[{title:"Hardhat",value:"hardhat"},{title:"Forge",value:"forge"}]});typeof c.framework=="string"&&(I=c.framework.trim())}I||(console.log("Please specify a framework"),process.exit(1)),te||(te="javascript")}}if(j==="contract"||j==="extension"){if(!vn){let c="MyContract",f=await(0,De.default)({type:"text",name:"path",message:j==="extension"?_e.extensionName:_e.contractName,initial:c,validate:u=>/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(u)?!0:"Invalid contract name 'contractName' (only alphanumeric characters allowed)"});typeof f.path=="string"&&(vn=f.path.trim()),vn||(console.log(`
Please specify the contract name:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("<contract-name>")}
For example:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("MyContract")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1))}if(j==="contract"&&!Ei&&!sa){let c="none",f=await(0,De.default)({type:"select",name:"standard",message:_e.contract,choices:[...n?[]:[{title:"Empty Contract",value:"none"}],{title:"ERC721",value:"erc721"},{title:"ERC20",value:"erc20"},{title:"ERC1155",value:"erc1155"}]});if(typeof f.standard=="string"&&(c=f.standard.trim()),c==="none")Ei="";else{let u=[];c==="erc721"?u=[{title:"None",value:"ERC721Base"},{title:"Signature Mint",value:"ERC721SignatureMint"},{title:"Lazy Mint",value:"ERC721LazyMint"},{title:"Delayed Reveal",value:"ERC721DelayedReveal"},{title:"Drop",value:"ERC721Drop"}]:c==="erc20"?u=[{title:"None",value:"ERC20Base"},{title:"Vote",value:"ERC20Vote"},{title:"Signature Mint",value:"ERC20SignatureMint"},{title:"Vote + Signature Mint",value:"ERC20SignatureMintVote"},{title:"Drop",value:"ERC20Drop"},{title:"Vote + Drop",value:"ERC20DropVote"}]:c==="erc1155"&&(u=[{title:"None",value:"ERC1155Base"},{title:"Signature Mint",value:"ERC1155SignatureMint"},{title:"Lazy Mint",value:"ERC1155LazyMint"},{title:"Delayed Reveal",value:"ERC1155DelayedReveal"},{title:"Drop",value:"ERC1155Drop"}]);let p=await(0,De.default)({type:"select",name:"baseContract",message:_e.extensions,choices:u});typeof p.baseContract=="string"&&(Ei=p.baseContract.trim())}}}X=se.default.resolve(X);let i=se.default.basename(X),{valid:o,problems:a}=oa(i);o||(console.error(`Could not create a project called ${d.red(`"${i}"`)} because of npm naming restrictions:`),a?.forEach(c=>console.error(`    ${d.red.bold("*")} ${c}`)),process.exit(1)),r.template===!0&&(console.error("Please provide an template name, otherwise remove the template option. Checkout some templates you can use here: https://github.com/thirdweb-example/"),process.exit(1));let s=r.useNpm?"npm":r.usePnpm?"pnpm":Bt(),l=typeof r.template=="string"?r.template.trim():void 0;try{j==="app"?await $f({appPath:X,packageManager:s,framework:I,language:te,template:l}):await Lf({contractPath:X,packageManager:s,framework:I,contractName:vn,baseContract:Ei,onlyContract:n,createExtension:sa})}catch(c){if(!(c instanceof Ye))throw c}}function ca(e,t){let r=e.split("/");if(r.length>1)return`https://thirdweb.com/dashboard/${r[0]}/${r[1]}${t?`/${t}`:""}`;{let i={"signature-drop":"SignatureDrop","nft-drop":"DropERC721","edition-drop":"DropERC1155","nft-collection":"TokenERC721",edition:"TokenERC1155","token-drop":"DropERC20",token:"TokenERC20",marketplace:"Marketplace",split:"Split",vote:"VoteERC20",pack:"Pack",multiwrap:"Multiwrap"}[e];return i?`https://thirdweb.com/thirdweb.eth/${i}`:void 0}}var la=require("@thirdweb-dev/storage");var gt=_(require("fs")),Ti=_(require("path"));function Uf(e,t){let r=[],n=gt.default.lstatSync(e);if(n.isFile()){let i=Ti.default.relative(t,e),o=gt.default.readFileSync(e);r.push({name:i,data:o})}else n.isDirectory()&&gt.default.readdirSync(e).forEach(o=>{let a=Ti.default.join(e,o);Uf(a,t).forEach(l=>r.push(l))});return r}async function Ci(e,t){if(!t)return Promise.reject("No path provided");if(!gt.default.existsSync(t))return Promise.reject("Invalid path provided");let n="",i=gt.default.lstatSync(t);if(i.isDirectory()){let o=Uf(t,t);if(o.length===0)return Promise.reject("No files detected in specified directory");let a=ne("Uploading directory to IPFS. This may take a while depending on file sizes.");try{let s=await e.uploadBatch(o);a.succeed("Successfully uploaded directory to IPFS"),n=s[0].substring(0,s[0].lastIndexOf("/"))}catch(s){return a.fail("Failed to upload directory to IPFS."),Promise.reject(s)}}else if(i.isFile()){let o=Ti.default.parse(t).base,a=gt.default.readFileSync(t),s={name:o,data:a},l=ne("Uploading file to IPFS. This may take a while depending on file sizes.");try{n=await e.upload(s,{uploadWithoutDirectory:!0})}catch(c){return l.fail("Failed to upload file to IPFS."),Promise.reject(c.message?c.message:c)}l.succeed("Successfully uploaded file to IPFS.")}else return Promise.reject("Invalid path provided");return n}async function qf(e="dist",t=".",r){let n;r?n=new la.ThirdwebStorage({secretKey:r}):n=new la.ThirdwebStorage;let i=await lt(t,{}),o=await mt(t,{},i);if(o==="none")throw new Error("No supported project detected");switch(o){case"next":e="out";break;case"cra":e="build";break;default:break}y.info(`Detected project type: ${o}`),y.info(`Detected package manager: ${i}`),y.info(`distPath: ${e}`),y.info(`projectPath: ${t}`);try{switch(i){case"yarn":await V("yarn",["build"],!0),o==="next"&&await V("yarn",["next","export"],!0);break;case"npm":await V("npm",["run","build"],!0),o==="next"&&await V("npx",["next","export"],!0);break;case"pnpm":await V("pnpm",["build"],!0),o==="next"&&await V("pnpm",["next","export"],!0);break;default:throw new Error("No supported package manager detected")}}catch{return console.error("Can't build project"),Promise.reject("Can't build project")}try{return`${(await Ci(n,e)).replace("ipfs://","https://cf-ipfs.com/ipfs/")}`}catch(a){return console.error(a.message?a.message:a),Promise.reject("Can't upload project")}}async function Wf(e,t){if(e.name){let n=ca(e.name,e.contractVersion);if(!n){y.error(d.red(`Could not find a contract named ${e.name} ${e.contractVersion||""}`));return}return M(`Open this link to deploy your contract: ${d.blueBright(n)}`),n.toString()}if(e.app)try{let n=await qf(e.distPath,e.path,t);return M(`Here is the link to your app: ${d.blueBright(n.toString())}`),n.toString()}catch(n){return y.error("Failed to deploy app, No compatible project found",n),Promise.reject("failed to deploy app, no compatible project found")}let r=await fi(e,"deploy",t);return M(`Open this link to deploy your contracts: ${d.blueBright(r.toString())}`),r.toString()}var Hf=require("@thirdweb-dev/chains"),Pi=require("@thirdweb-dev/sdk"),ua=require("@thirdweb-dev/storage"),ie=_(require("fs"));var zf=_(require("prompts"));var Gf=require("@thirdweb-dev/sdk"),Jf=_(require("prompts")),fa=require("@thirdweb-dev/chains"),Vf=fa.allChains.map(e=>({title:e.slug}));async function pa(e,t,r){let n=[];await Promise.all(e.map(async i=>{let o=[];if(await Promise.all(t.map(async a=>{let s=(0,Gf.getChainProvider)(a,{});try{let l=await s.getCode(i);if(!l||l==="0x")return;o.push(a)}catch{return}})),!!o.length){if(o.length===1){r.push({address:i,chainId:o[0]});return}n.push({address:i,chains:o.map(a=>({slug:fa.allChains[a].slug,chainId:a}))})}}));for(let i of n){let o=await(0,Jf.default)({type:"select",name:"chainId",message:`What chain is smart contract '${i.address}' on?`,choices:i.chains.map(a=>({title:a.slug,value:a.chainId}))});r.push({address:i.address,chainId:o.chainId})}}async function Yf(e,t){let r=e.path?.replace(/\/$/,"")||".",n=[],i=[];if(Bo(r,/(0x[a-fA-F0-9]{40})/g,i),ie.default.existsSync(`${r}/thirdweb.json`)){let p=JSON.parse(ie.default.readFileSync(`${r}/thirdweb.json`,"utf-8")),h=p.contracts.map(m=>m.address.toLowerCase()),g=Array.from(new Set(i)).filter(m=>!h.includes(m.toLowerCase()));if(n=[...p.contracts],g.length){let m=p.chainIds;if(await pa(g,m,n),n.length>p.contracts.length){ie.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:m,contracts:n},void 0,2));let x=n.length-p.contracts.length;M(`Updated thirdweb.json with ${x} new contract${x===1?"":"s"}`)}}}else{let h=(await(0,zf.default)({type:"autocompleteMultiselect",name:"chains",message:Dl.chains,choices:Vf})).chains.map(g=>Hf.allChains[g].chainId);await pa(i,h,n),ie.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:h,contracts:n},void 0,2)),M(`Created a thirdweb.json file with configuration for ${n.length} contract${n.length===1?"":"s"} detected in your project.

 - You can also update this configuration manually by editing the file.
`)}F("Downloading ABIs for contracts configured in 'thirdweb.json'").info();let o;t?o=new ua.ThirdwebStorage({secretKey:t}):o=new ua.ThirdwebStorage;let a=[];await Promise.all(n.map(async p=>{let h=(0,Pi.getChainProvider)(p.chainId,{}),g;try{g=await(0,Pi.fetchContractMetadataFromAddress)(p.address,h,o)}catch{F(`Unable to download ABI for contract ${p.address}, skipping.`).warn();return}a.push({address:p.address,metadata:g})}));let s=`${r}/node_modules/@thirdweb-dev/generated-abis/dist`;ie.default.existsSync(s)||(F("Unable to cache ABIs. Please ensure that you have the latest @thirdweb-dev/sdk package installed.").fail(),process.exit(1)),[`${s}/thirdweb-dev-generated-abis.cjs.js`,`${s}/thirdweb-dev-generated-abis.esm.js`].forEach(p=>{if(!ie.default.existsSync(p))return;let h=ie.default.readFileSync(p,"utf-8"),g=/GENERATED_ABI = \{.*\};\n\n/s,m=a.reduce((v,S)=>(v[S.address]=S.metadata.abi,v),{}),x=JSON.stringify(m,null,2),w=h.replace(g,`GENERATED_ABI = ${x};

`);ie.default.writeFileSync(p,w)});{let p=`${s}/declarations/src/index.d.ts`;if(!ie.default.existsSync(p))return;let h=ie.default.readFileSync(p,"utf-8"),g=/GENERATED_ABI: \{.*\}/s,m=a.reduce((v,S)=>(v[S.address]=S.metadata.abi,v),{}),x=JSON.stringify(m,null,2),w=h.replace(g,`GENERATED_ABI: ${x}`);ie.default.writeFileSync(p,w)}F(`Downloaded and cached ABIs for ${a.length} smart contract${a.length===1?"":"s"}`).succeed();let c=`${r}/package.json`;if(!ie.default.existsSync(c))return;let f=JSON.parse(ie.default.readFileSync(c,"utf-8"));if(f.scripts?.postinstall?.includes("thirdweb generate")||f.scripts?.postinstall?.includes("thirdweb@latest generate"))return;let u=f.scripts?.postinstall?f.scripts.postinstall+"npx --yes thirdweb@latest generate":"npx --yes thirdweb@latest generate";ie.default.writeFileSync(c,JSON.stringify({...f,scripts:{...f.scripts,postinstall:u}},void 0,2)),F(`Added 'npx thirdweb generate' to postinstall in package.json.

 - This is necessary to use 'thirdweb generate' in production.
`).info()}var da=require("child_process");async function Xf(){if(await Lm())return{packageManager:await import("detect-package-manager").then(({detect:o})=>o()),isGlobal:!1};if(await Nm())return{packageManager:"npm",isGlobal:!0};if(await Bm())return{packageManager:"yarn",isGlobal:!0};if(await Um())return{packageManager:"pnpm",isGlobal:!0}}async function Lm(){let e=await ma("npm ls --depth=0");return Ri(e||[])}async function Nm(){let e=await ma("npm ls -g --depth=0");return Ri(e||[])}async function Bm(){let e=await ma("yarn --cwd `yarn global dir` list");return Ri(e||[])}async function Um(){let e=await new Promise(t=>{(0,da.exec)("pnpm list -g --depth=0",(r,n)=>{let i=[];i=n.split("dependencies:")[1]?.trim().split(`
`)||[],i=i.map(o=>o.replace(" ","@")),t(i)})});return Ri(e||[])}function Ri(e){return e.some(t=>t.match(/^thirdweb/))}async function ma(e){return new Promise(t=>{(0,da.exec)(e,(r,n)=>{let i=[];i=n.split(`
`),i=i.filter(function(o){if(o.match(/^.+/g)!==null||o.match(/^.+/g)!==null)return!0}),i=i.map(function(o){if(o.match(/^.+/g)!==null)return o.replace(/(^\s|^\s)/g,"");if(o.match(/^.+/g)!==null)return o.replace(/(^\s|^\s)/g,"")}).filter(o=>!!o),t(i)})})}var Di=require("fs");var ha=_(require("inquirer"));var qm=["@thirdweb-dev/chain-icons"];async function Kf(e=".",t){let r=t.debug||!1,n,i,o={},a={},s=[],l=[],c={},f=[],u=new Set,p=new Set,h={package:"",exists:!1},g=!1,m=await lt(e,t),x=await mt(e,t,m),w=await dn(e,t,m),v=x!=="none"&&yi.includes(x)?"contract":"app",S=m==="brownie",R=m==="foundry",T=m==="go-modules",$=["pip","pipenv","poetry"].includes(m),A=["yarn","pnpm","npm"].includes(m);if(A){let E=e+"/package.json";if(!(0,Di.existsSync)(E)){console.error("No package.json file found. Please run this command in the root of your project.");return}let he=(0,Di.readFileSync)(E),ve=O(he);o=ve.dependencies,a=ve.devDependencies,c=ve.peerDependencies}if($){let E=ae(e,m);s=E.dependencies,l=E.devDependencies}S&&(h=await ul(/\s*thirdweb-dev\/contracts@\d+\.\d+\.\d+/g)),R&&(g=await dl(e,"thirdweb-contracts")),T&&(f=ml(e));let G=!!o?.ethers||!!a?.ethers,oe=A?t.dev?"@dev":t.nightly?"@nightly":"":"",re=new Set([...Object.keys(o).filter(E=>E.startsWith("@thirdweb-dev/")),...Object.keys(a).filter(E=>E.startsWith("@thirdweb-dev/")),...Object.keys(c).filter(E=>E.startsWith("@thirdweb-dev/")),...s.filter(E=>E.startsWith("thirdweb-sdk")).map(E=>E.split("==")[0]),...l.filter(E=>E.startsWith("thirdweb-sdk")).map(E=>E.split("==")[0]),...f.filter(E=>(console.log("dep",E),E.name==="github.com/thirdweb-dev/go-sdk/v2")).map(E=>E.name)].concat(h.exists?[h.package]:[]).concat(g?["lib/thirdweb-contracts"]:[]));if(v==="contract"?hl({detectedPackageManager:m,thirdwebDepsToUpdate:re,thirdwebDepsToInstall:u,isJSPackageManager:A}):v==="app"&&gl({detectedLibrary:w,detectedFramework:x,hasEthers:G,isGoPackageManager:T,isJSPackageManager:A,isPythonPackageManager:$,otherDeps:p,thirdwebDepsToInstall:u,thirdwebDepsToUpdate:re}),qm.forEach(E=>{re.delete(E),u.delete(E)}),u.size!==0){let E=await ha.default.prompt({type:"checkbox",choices:[...u],message:"Which thirdweb dependencies would you like to install?",name:"dependencies",default:[...u]});E.dependencies.length!==u.size&&(u.clear(),E.dependencies.forEach(he=>u.add(he)))}if(re.size!==0){let E=await ha.default.prompt({type:"checkbox",choices:[...re],message:"Which thirdweb dependencies would you like to update?",name:"dependencies",default:[...re]});E.dependencies.length!==re.size&&(re.clear(),E.dependencies.forEach(he=>re.add(he)))}if(u.size===0&&re.size===0){console.log("No thirdweb dependencies to install or update.");return}r&&(y.info("Detected package manager: "+m),y.info("Detected library: "+w),y.info("Detected framework: "+x),y.info("Detected app type: "+v));try{let E=[...[...u].map(ve=>`${ve}${oe}`),...p],he=[...re].map(ve=>`${ve}${oe}`);u.size!==0&&(n=F(`Installing: "${[...u].join('", "')}"`).start(),await No(m,E,[],"install",{oldVersion:h.package,debug:r}),n?.succeed(`Installed: "${E.join('", "')}"`)),re.size!==0&&(i=F(`Updating: "${[...re].join('", "')}"`).start(),await No(m,[],he,"update",{debug:r}),i?.succeed(`Updated: "${he.join('", "')}"`))}catch(E){return console.error("Can't install within project: ",E),Promise.reject("Can't install within project")}}var Wm=async()=>{let e=process.env.THIRDWEB_CLI_SKIP_INTRO==="true",t=(0,ba.default)(".thirdweb").config(),r=(0,ba.default)(".thirdweb").cache(),n=Sn.default.join(r,"last-version-check.txt"),i=Sn.default.join(t,"creds.json"),o=Sn.default.join(t,"wallet.json"),a=Sn.default.join(t,"auth-token.txt"),s=new Zf.Command;e||(console.info(`
    $$\\     $$\\       $$\\                 $$\\                         $$\\       
    $$ |    $$ |      \\__|                $$ |                        $$ |      
  $$$$$$\\   $$$$$$$\\  $$\\  $$$$$$\\   $$$$$$$ |$$\\  $$\\  $$\\  $$$$$$\\  $$$$$$$\\  
  \\_$$  _|  $$  __$$\\ $$ |$$  __$$\\ $$  __$$ |$$ | $$ | $$ |$$  __$$\\ $$  __$$\\ 
    $$ |    $$ |  $$ |$$ |$$ |  \\__|$$ /  $$ |$$ | $$ | $$ |$$$$$$$$ |$$ |  $$ |
    $$ |$$\\ $$ |  $$ |$$ |$$ |      $$ |  $$ |$$ | $$ | $$ |$$   ____|$$ |  $$ |
    \\$$$$  |$$ |  $$ |$$ |$$ |      \\$$$$$$$ |\\$$$$$\\$$$$  |\\$$$$$$$\\ $$$$$$$  |
     \\____/ \\__|  \\__|\\__|\\__|       \\_______| \\_____\\____/  \\_______|\\_______/ `),console.info(`
 \u{1F48E} thirdweb v${Ut} \u{1F48E}
`)),s.name("thirdweb").description("Official thirdweb command line interface").version(Ut,"-v, --version").option("--skip-update-check","Skip check for auto updates").hook("preAction",async()=>{let l=!yt.default.existsSync(t),c=!yt.default.existsSync(r);if(l&&yt.default.mkdirSync(t,{recursive:!0}),c&&yt.default.mkdirSync(r,{recursive:!0}),e||s.opts().skipUpdateCheck)return;let f=!0;try{let p=yt.default.readFileSync(n,"utf-8");if(p){let h=new Date(p);Date.now()-h.getTime()<1e3*60*60*24&&(f=!1)}}catch{}if(!f)return;let u=ne("Checking for updates...");await import("update-notifier").then(async({default:p})=>{let g=await p({pkg:Jo,shouldNotifyInNpmScript:!0,updateCheckInterval:0}).fetchInfo();u.stop();try{yt.default.writeFileSync(n,new Date().toISOString(),{encoding:"utf-8",mode:384})}catch{}if(g.type!=="latest"&&(await(0,Qf.default)({type:"toggle",name:"upgrade",message:"A new version of the CLI is available. Would you like to upgrade?",initial:!0,active:"yes",inactive:"no"})).upgrade){let x=ne(`Upgrading CLI to version ${g.latest}...`),w={...process.env};w.THIRDWEB_CLI_SKIP_INTRO="true";let v=await Xf();if(!v)return x.succeed(`Now using CLI version ${g.latest}. Continuing execution...`),await new Promise((T,$)=>{(0,kn.spawn)(`npx --yes thirdweb@latest ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:w}).on("close",G=>{G===0?T(""):$()})}),process.exit(0);let S="";switch(v.packageManager){case"npm":S=v.isGlobal?"npm install -g thirdweb":"npm install thirdweb";break;case"yarn":S=v.isGlobal?"yarn global add thirdweb":"yarn add thirdweb";break;case"pnpm":S=v.isGlobal?"pnpm add -g thirdweb@latest":"pnpm add thirdweb@latest";break;default:console.error(`Could not detect package manager in use, aborting automatic upgrade.
If you want to upgrade the CLI, please do it manually with your package manager.`),process.exit(1)}await new Promise((T,$)=>{(0,kn.exec)(S,(A,G,oe)=>{if(A)return $(A);T({stdout:G,stderr:oe})})}),x.succeed(`Successfully upgraded CLI to version ${g.latest}. Continuing execution...`);let R=!v.isGlobal||v.packageManager==="npm"?"npx thirdweb":"thirdweb";await new Promise((T,$)=>{(0,kn.spawn)(`${R} ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:w}).on("close",G=>G===0?T(""):$())}),process.exit(0)}})}),s.command("install [projectPath]").description("Install thirdweb into your project. If no path is specified, the current directory will be used.").option("--nightly","Install the nightly version of packages.").option("--dev","Install the dev version of packages").option("-d, --debug","show debug logs").action(async(l,c)=>{await Kf(l,c)}),s.command("create [projectType] [projectPath]").description("Create a web3 app from any of our official templates: https://github.com/thirdweb-example/").option("--app","Create a web3 app.").option("--contract","Create a web3 contract project").option("--ts, --typescript","Initialize as a TypeScript project.").option("--js, --javascript","Initialize as a JavaScript project.").option("--forge","Initialize as a Forge project.").option("--hardhat","Initialize as a Hardhat project.").option("--extension","Create a smart contract extension.").option("--react","Initialize as a Create React App project.").option("--next","Initialize as a Next.js project.").option("--vite","Initialize as a Vite project.").option("--reactNative","Initialize as a React Native project.").option("--express","Initialize as a Express project.").option("--node","Initialize as a Node project.").option("--pwaVite","Initialize as a PWA project.").option("--use-npm","Explicitly tell the CLI to bootstrap the app using npm").option("--use-pnpm","Explicitly tell the CLI to bootstrap the app using pnpm").option("--framework [name]","The preferred framework.").option("--evm","Initialize as an Ethereum project.").option("-t, --template [name]","A template to start your project from. You can use an template repository name from the official thirdweb-example org.").option("-c, --contract-name [name]","Name of the new smart contract to create").action(async(l,c,f)=>{await Bf(l,c,f)}),s.command("build").description("Compile contract and detect thirdweb contract extensions").option("--clean","clear the cache before building").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").option("-a, --all","run detection on all contracts").action(async l=>{await Bl(l)}),s.command("deploy").description("Securely deploy your contract to any EVM network without having to deal with scripts, private keys, or ABIs").option("-p, --path <project-path>","path to project",".").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--dist-path [distPath]","Path to the dist folder where the HTML based App is").option("-n, --name [name]","Name of the pre-built or published contract (such as nft-drop)").option("-f, --file [name]","Filter for contract files that contain this file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("-cv, --contract-version [version]","Version of the published contract").option("--app","Deploy a web app to decentralized storage").option("--contract","Deploy a smart contract to blockchains").option("--dynamic","Deploy a dynamic smart contract made up of extensions to blockchains").option("--zksync","Deploy on ZKSync").option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await dr(l.key),c=l.key):await At({credsConfigPath:i,cliWalletPath:o,tokenPath:a});let f=await Wf(l,c);f&&!l.ci&&await(0,ya.default)(f)}),s.command("publish").description("Get a shareable page for your contract with a README, changelog, and version control. Enable one-click deploys to any EVM network").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await dr(l.key),c=l.key):await At({credsConfigPath:i,cliWalletPath:o,tokenPath:a});let f=await fi(l,"publish",c);M(`Open this link to publish your contracts: ${d.blueBright(f.toString())}`),f&&!l.ci&&await(0,ya.default)(f.toString())}),s.command("upload").description("Upload any file or directory to decentralized storage (IPFS)").argument("[upload]","path to file or directory to upload").option("-k, --key <key>","API secret key to authorize usage").action(async(l,c)=>{let f="",u;c.key?(await dr(c.key),f=c.key):await At({credsConfigPath:i,cliWalletPath:o,tokenPath:a}),f?u=new ga.ThirdwebStorage({secretKey:f}):u=new ga.ThirdwebStorage;try{let p=await Ci(u,l);M(`Files stored at the following IPFS URI: ${d.blueBright(p.toString())}`);let h=u.resolveScheme(p);M(`Open this link to view your upload: ${d.blueBright(h.toString())}`)}catch(p){p.toString()==="No files detected in specified directory"||p.toString()==="Invalid path provided"||p.toString()==="No path provided"?y.error(d.redBright("Please specify a valid file or directory to upload")):y.error(d.redBright(p.message?p.message:p))}}),s.command("detect").description("Detect the type of project your are running and let you know what it is.").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").action(async l=>{await hf(l)}),s.command("generate").description("Preload ABIs and generate types for your smart contract to strongly type the thirdweb SDK").option("-p, --path <project-path>","path to project",".").option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await dr(l.key),c=l.key):await At({credsConfigPath:i,cliWalletPath:o,tokenPath:a}),await Yf(l,c)}),s.command("login").description("Authorize your device to use the thirdweb CLI by authenticating with your wallet from our dashboard").action(async l=>{await At({credsConfigPath:i,cliWalletPath:o,tokenPath:a},l,!0)}),s.command("logout").description("Logout of the thirdweb CLI").action(async()=>{await Sl(i,a,o)}),await s.parseAsync()};Wm().then(()=>{process.exit(0)}).catch(e=>{y.error(e),process.exit(1)});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=index.js.map